{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../../tailwind-editor/src/lib/Util.js","../../../tailwind-editor/src/Editor/ContentEditor.svelte","../../../tailwind-editor/src/Icons/NoColor.svelte","../../../tailwind-editor/src/ToolBar/ColorList.svelte","../../../tailwind-editor/src/Icons/DownIcon.svelte","../../../tailwind-editor/src/ToolBar/ColorPicker.svelte","../../../tailwind-editor/src/Icons/CodeIcon.svelte","../../../tailwind-editor/src/ToolBar/LinkInput.svelte","../../../tailwind-editor/src/Icons/JustifyIcon.svelte","../../../tailwind-editor/src/Icons/CheckIcon.svelte","../../../tailwind-editor/src/ToolBar/List.svelte","../../../tailwind-editor/src/ToolBar/DropDown.svelte","../../../tailwind-editor/src/Icons/LineHeightIcon.svelte","../../../tailwind-editor/src/ToolBar/Leading.svelte","../../../tailwind-editor/src/ToolBar/HeadingList.svelte","../../../tailwind-editor/src/Icons/CenterIcon.svelte","../../../tailwind-editor/src/Icons/LeftIcon.svelte","../../../tailwind-editor/src/Icons/RightIcon.svelte","../../../tailwind-editor/src/Icons/TriangleDown.svelte","../../../tailwind-editor/src/ToolBar/const.js","../../../tailwind-editor/src/ToolBar/TextAlign.svelte","../../../tailwind-editor/src/Icons/PaddingIcon.svelte","../../../tailwind-editor/src/Icons/MarginIcon.svelte","../../../tailwind-editor/src/ToolBar/Spacing.svelte","../../../tailwind-editor/src/ToolBar/ToolBar.svelte","../../../tailwind-editor/src/Icons/FloatCenter.svelte","../../../tailwind-editor/src/Icons/FloatLeft.svelte","../../../tailwind-editor/src/Icons/FloatRight.svelte","../../../tailwind-editor/src/ToolBar/MediaInput.svelte","../../../tailwind-editor/src/lib/EditorHistory.js","../../../tailwind-editor/src/Editor/Editor.svelte","../../src/lib/ui/ListInputs.svelte","../../src/lib/ui/Common/inputs.js","../../src/lib/utils/clickOutside.js","../../src/lib/ui/Modal.svelte","../../src/lib/ui/EditorSteps.svelte","../../src/lib/ui/InputTypes/Radio.svelte","../../src/lib/ui/InputTypes/Select.svelte","../../src/lib/ui/InputTypes/Multichoice.svelte","../../src/lib/ui/InputTypes/Text.svelte","../../src/lib/ui/InputTypes/Textarea.svelte","../../src/lib/ui/InputTypes/Submit.svelte","../../src/lib/ui/InputTypes/CheckBox.svelte","../../src/lib/ui/InputTypes/Password.svelte","../../src/lib/ui/InputTypes/Date.svelte","../../src/lib/ui/InputTypes/DateTime.svelte","../../src/lib/ui/InputTypes/Email.svelte","../../src/lib/ui/InputTypes/Number.svelte","../../src/lib/ui/InputTypes/Time.svelte","../../src/lib/utils/cmpsRegistry.js","../../src/lib/utils/random.js","../../src/lib/ui/Common/Inputs/Menu.svelte","../../src/lib/ui/Common/Inputs/SideMenu.svelte","../../src/lib/ui/Common/Inputs/InputWrapper.svelte","../../src/lib/Step.svelte","../../src/lib/ui/Common/Steps/StepMenu.svelte","../../src/lib/ui/Common/Steps/SideStepMenu.svelte","../../src/lib/ui/Common/Steps/StepWrapper.svelte","../../src/lib/ui/Common/Steps/StepLine.svelte","../../src/lib/FormBuilder.svelte","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value === null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { stylesheet } = info;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            info.rules = {};\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (flushidx < dirty_components.length) {\n            const component = dirty_components[flushidx];\n            flushidx++;\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true && boolean_attributes.has(name) ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${style_object[key]};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.46.4' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","export default {\r\n    testImgUrl(url){\r\n\t\treturn new Promise(function(resolve) {\r\n\t\t\tconst timeout = 5000;\r\n\t\t\tlet timer, img = new Image();\r\n\t\t\timg.onerror = img.onabort = function() {\r\n\t\t\t\tclearTimeout(timer);\r\n\t\t\t\tresolve(false);\r\n\t\t\t};\r\n\t\t\timg.onload = function() {\r\n\t\t\t\tclearTimeout(timer);\r\n\t\t\t\tresolve(true);\r\n\t\t\t};\r\n\t\t\ttimer = setTimeout(function() {\r\n\t\t\t\timg.src = \"//!!!!/noexist.jpg\";\r\n\t\t\t\tresolve(false);\r\n\t\t\t}, timeout); \r\n\t\t\timg.src = url;\r\n\t\t});\r\n\t},\r\n\r\n\ttestVideoUrl(url){\r\n\t\treturn /^https?:\\/\\/.*\\.(mp4|ogg|webm)$/i.test(url.trim())\r\n\t},\r\n\r\n\tparseYouTube(str) {\r\n\t\t// url : //youtube.com/watch?v=Bo_deCOd1HU\r\n\t\t// share : //youtu.be/Bo_deCOd1HU\r\n\t\t// embed : //youtube.com/embed/Bo_deCOd1HU\r\n\t\t\r\n\t\tconst re = /\\/\\/(?:www\\.)?youtu(?:\\.be|be\\.com|be-nocookie\\.com)\\/(?:watch\\?v=|embed\\/)?([a-z0-9_\\-]+)/i; \r\n\t\tconst matches = re.exec(str);\r\n\t\tif (matches && matches[1]){\r\n\t\t\treturn 'https://www.youtube.com/embed/'+matches[1]\r\n\t\t}\r\n\t},\r\n\r\n\tparseVimeo(str) {\r\n\t\t// http://vimeo.com/86164897\r\n\t\t\r\n\t\tconst re = /\\/\\/(?:www\\.)?vimeo.com\\/([0-9a-z\\-_]+)/i;\r\n\t\tconst matches = re.exec(str);\r\n\t\tif(matches && matches[1]) {\r\n\t\t\treturn 'https://player.vimeo.com/video/'+matches[1]\r\n\t\t}\r\n\t}\r\n}","\n<script>\n\timport { tick, createEventDispatcher, onMount } from 'svelte/internal';\n\timport Util from '../lib/Util';\n\tlet dispatch = createEventDispatcher()\n\n\tlet arr_elms = []\n\t\n\texport let html = ''\n\texport let gklass = ''\n\texport let editable = true\n\texport let custom = false\n\n\tasync function generateArr(){\n\t\tlet div = document.createElement('div')\n\t\tdiv.innerHTML = html\n\t\tlet n_elms = []\n\t\tfor(let elm of [...div.childNodes]){\n\t\t\tconst itrue = (attr) => elm.hasAttribute(attr)\n\t\t\t\n\t\t\tif(elm.nodeName == 'BR')\n\t\t\t\tn_elms.push({tag: 'BR',txt: \"\"})\n\t\t\telse if(elm.nodeName == 'A')\n\t\t\t\tn_elms.push({tag: 'A',txt: elm.textContent, href: elm.getAttribute('href'), blank: elm.getAttribute('target')==\"_blank\" , klass: elm.classList&&[...elm.classList].join(' ')})\n\t\t\telse if(elm.nodeName == 'IMG')\n\t\t\t\tn_elms.push({tag: 'IMG',txt: elm.getAttribute('alt'), href: elm.getAttribute('src'), klass: elm.classList&&[...elm.classList].join(' ')})\n\t\t\t\telse if(elm.nodeName == 'VIDEO')\n\t\t\t\tn_elms.push({tag: 'VIDEO',href: elm.getAttribute('src'), klass: elm.classList&&[...elm.classList].join(' '),\n\t\t\t\topts: {autoplay: itrue('autoplay'), loop: itrue('loop'), muted: itrue('muted'), controls: itrue('controls')}\n\t\t\t})\n\t\t\telse if(elm.dataset?.iframe)\n\t\t\t\tn_elms.push({tag: 'IFRAME', href: elm.lastChild.getAttribute('src'), klass: elm.lastChild.classList&&[...elm.lastChild.classList].join(' ')})\n\t\t\telse if(elm.nodeName == 'SPAN')\n\t\t\t\tn_elms.push({txt: elm.innerText, klass: elm.classList&&[...elm.classList].join(' ')})\n\t\t\telse if(elm.nodeName !== '#text')\n\t\t\t\tn_elms.push({htxt: `${elm.outerHTML}`, klass: elm.classList&&[...elm.classList].join(' ')})\n\t\t\telse if(elm.nodeName == '#text' && elm.length>0 )\n\t\t\t\tn_elms.push({txt: elm.textContent})\n\t\t\t\n\t\t}\n\n\n\t\t\n\t\tarr_elms = n_elms\n\t\tawait tick()\n\t\trefreshEvents()\n\t}\n\n\t// workaround in case using sapper!\n\tlet mounted = false\n\t$: if(mounted){\n\t\tif(html)\n\t\t\tgenerateArr()\n\t\telse \n\t\t\tarr_elms = []\n\t}\n\n\t$: if(editable){\n\t\tsetTimeout(refreshEvents)\n\t}\n\n\tonMount(() => {\n\t\tmounted = true\n\t\tgenerateArr()\n\t\tdocument.onselectionchange = function() {\n\t\t\twindow.cursor_change = +new Date\n\t\t}\n\t})\n\n\n\t// let last_position\n\t\n\tfunction cursorIsSame() {\n\t\tlet l_cursor_change = +new Date\n\t\treturn l_cursor_change - window.cursor_change > 50\n\t}\n\n\t\n\tconst char_keys = ['B'.charCodeAt(0),'U'.charCodeAt(0),'I'.charCodeAt(0)]\n\tasync function handleKeydown(e){\n\t\t\n\t\tif(e.ctrlKey && char_keys.includes(e.keyCode)){\n\t\t\te.preventDefault()\n\t\t\treturn\n\t\t}\n\n\t\tif(e.ctrlKey && e.keyCode == 'Z'.charCodeAt(0)){\n\t\t\tdispatch('back')\n\t\t\treturn\n\t\t}\n\n\t\tif(e.ctrlKey && e.keyCode == 'Y'.charCodeAt(0)){\n\t\t\tdispatch('forward')\n\t\t\treturn\n\t\t}\n\n\t\tlet selection = window.getSelection()\n\t\tlet b_node = selection.anchorNode\n\t\tlet e_node = selection.focusNode\n\t\tlet start_i = selection.baseOffset\n\t\tlet end_i = selection.extentOffset\n\t\tif(!b_node) return\n\t\tlet elm_node = (b_node?.tagName=='DIV') ? b_node : b_node.parentNode.tagName == 'DIV' ? b_node.parentNode : b_node.parentNode.parentNode\n\t\tlet ed_elm = elm_node\n\t\twhile(!ed_elm?.dataset?.txteditor && ed_elm?.tagName!='HTML'){\n\t\t\ted_elm = ed_elm.parentNode\n\t\t}\n\n\t\tlet b_index = getIndex(b_node)\n\t\tlet e_index = getIndex(e_node)\n\n\t\tconst adjustPosition = (n,d=\"up\") => {\n\t\t\tlet children = [...n.childNodes]\n\t\t\tlet last_child = children[children.length-1]\n\t\t\tif(!last_child) return\n\t\t\tlast_child = ['#text','BR','IMG','VIDEO'].includes(last_child.nodeName)||last_child?.dataset?.iframe ? last_child : last_child.childNodes[0] \n\t\t\tif(!last_child) return false\n\t\t\tlet pos = d == \"up\" ? last_child.textContent.length : 0\n\t\t\ttry{\n\t\t\t\tselection.setBaseAndExtent(last_child,  pos, last_child, pos);\n\t\t\t}catch{\n\t\t\t\t// ignore!\n\t\t\t}\n\t\t}\n\n\n\t\t// up key\n\t\tif(e.keyCode == 38){ \n\t\t\tif (b_node == e_node && start_i == 0 && (b_index <= 0)){\n\t\t\t\t// move to the previous node\n\t\t\t\t\n\t\t\t\tlet pv_elm = ed_elm.previousElementSibling\n\n\t\t\t\twhile (pv_elm && pv_elm.previousElementSibling && !pv_elm.isContentEditable) {\n\t\t\t\t\tpv_elm = pv_elm.previousElementSibling\n\t\t\t\t}\n\n\t\t\t\tif(pv_elm && pv_elm.isContentEditable){\n\t\t\t\t\tpv_elm.focus()\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\tadjustPosition(pv_elm, 'up')\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t// down key\n\t\tif(e.keyCode == 40){ \n\t\t\t// get index\n\t\t\tif (b_node == e_node){\n\t\t\t\t\n\t\t\t\tawait new Promise(r => setTimeout(r))\n\t\t\t\t// if(b_index == arr_elms.length-1 || (b_index == arr_elms.length-2 && arr_elms[arr_elms.length-1].tag == 'BR') || b_node == elm_node){\t\t\t\t\n\t\t\t\tif((cursorIsSame() && ed_elm.dataset.txtcustom == \"true\") \n\t\t\t\t\t|| (ed_elm.dataset.txtcustom !== \"true\" && b_index >= arr_elms.length-1) \n\t\t\t\t\t|| ((b_index == -1 || start_i == arr_elms.length-1) && arr_elms[arr_elms.length-1].tag == 'BR')){\n\n\t\t\t\t\tlet next_elm = ed_elm.nextElementSibling\n\t\t\t\t\t\n\t\t\t\t\twhile (next_elm && next_elm.nextElementSibling && !next_elm.isContentEditable) {\n\t\t\t\t\t\tnext_elm = next_elm.nextElementSibling\n\t\t\t\t\t}\n\n\t\t\t\t\tif(next_elm && next_elm.isContentEditable){\n\t\t\t\t\t\tnext_elm.focus()\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t//adjustPosition(next_elm, 'down')\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// del key\n\t\tif(e.keyCode == 46){\n\t\t\tif(customTxtEditor(b_node)) {\n\t\t\t\tif(b_node?.dataset?.txteditor && !b_node?.innerHTML){\n\t\t\t\t\tdispatch('merge_next', '')\n\t\t\t\t}\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet elms = arr_elms.length && arr_elms[arr_elms.length-1].tag == 'BR' ? arr_elms.slice(0,arr_elms.length-1) : arr_elms\n\t\t\tif((!~b_index && !elms.length) || (b_node.tagName == 'DIV' && b_index==0 && start_i == elms.length) || (b_index == elms.length-1 && start_i == elms[elms.length-1].txt?.length && !selection.toString())){\n\t\t\t\tlet l_node_index \n\t\t\t\tlet l_node_end \n\t\t\t\tlet pv_elm = elm_node\n\t\t\t\tif(pv_elm && pv_elm.isContentEditable){\n\t\t\t\t\tif(!pv_elm.childNodes.length)\n\t\t\t\t\t\tpv_elm.focus()\n\t\t\t\t\telse{\n\t\t\t\t\t\tl_node_index = pv_elm.childNodes.length-1\n\t\t\t\t\t\tl_node_end = pv_elm.childNodes[pv_elm.childNodes.length-1].textContent.length\n\t\t\t\t\t} \n\t\t\t\t}\t\n\t\t\t\t\n\t\t\t\tdispatch('merge_next')\n\t\t\t\te.preventDefault()\n\n\t\t\t\tawait (new Promise(r => setTimeout(r)))\n\t\t\t\tif(l_node_index !== undefined){\n\t\t\t\t\tlet l_node = pv_elm.childNodes[l_node_index]\n\t\t\t\t\tif(l_node.nodeName !== '#text' && l_node.nodeName !== 'BR'){\n\t\t\t\t\t\t\tl_node = l_node.childNodes[0]\n\t\t\t\t\t}\n\t\t\t\t\tselection.setBaseAndExtent(l_node, l_node_end, l_node, l_node_end);\n\t\t\t\t}\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\t// back key\n\t\tif(e.keyCode == 8){\n\t\t\tif(customTxtEditor(b_node)) {\n\t\t\t\tif(b_node?.dataset?.txteditor && !b_node?.innerHTML){\n\t\t\t\t\tdispatch('merge_prev', '')\n\t\t\t\t}\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(start_i==0 && (b_index==0 || b_index == -1)){\n\t\t\t\tlet l_node_index \n\t\t\t\tlet l_node_end \n\t\t\t\tlet pv_elm = elm_node.previousElementSibling\n\t\t\t\t// STEP to skip grammarly (woraround for now!) -- TODO - fix\n\t\t\t\tif(pv_elm && !pv_elm.isContentEditable)\n\t\t\t\t\tpv_elm = pv_elm.previousElementSibling\n\t\t\t\t\n\t\t\t\tif(pv_elm && pv_elm.isContentEditable){\n\t\t\t\t\tif(!pv_elm.childNodes.length){\n\t\t\t\t\t\tpv_elm.focus()\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tl_node_index = pv_elm.childNodes.length-1\n\t\t\t\t\t\tl_node_end = pv_elm.childNodes[pv_elm.childNodes.length-1].textContent.length\n\t\t\t\t\t} \n\t\t\t\t}\t\n\t\t\t\te.preventDefault()\n\t\t\t\tdispatch('merge_prev', html)\n\t\t\t\tawait (new Promise(r => setTimeout(r)))\n\t\t\t\tif(l_node_index !== undefined){\n\t\t\t\t\tlet l_node = pv_elm.childNodes[l_node_index]\n\t\t\t\t\tif(l_node.nodeName !== '#text' && l_node.nodeName !== 'BR'){\n\t\t\t\t\t\t\tl_node = l_node.childNodes[0]\n\t\t\t\t\t}\n\t\t\t\t\ttry{\n\t\t\t\t\t\tselection.setBaseAndExtent(l_node, l_node_end, l_node, l_node_end);\n\t\t\t\t\t}catch{\n\t\t\t\t\t\t// ignore!\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t// enter key\n\t\tif(e.keyCode == 13 && e.shiftKey == false){\n\t\t\tlet elm_html = ''\n\t\t\tlet next_html = ''\n\t\t\tlet elm_index = b_index==-1 ? arr_elms.length-1 : b_index+(b_node.tagName == 'DIV' && start_i>0 ?  start_i-1 : 0)\n\n\t\t\tif(customTxtEditor(b_node)) {\n\t\t\t\te.preventDefault()\n\t\t\t\tdispatch('enter',{html: html.trim(), next_html: \"\", klass: gklass, target: e.currentTarget})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif(arr_elms.length>0 && ~b_index){\n\t\t\t\t\n\t\t\t\tlet n_arr = splitArr(arr_elms,elm_index,start_i)\n\t\t\t\tarr_elms.splice(elm_index,1,...n_arr)\n\t\t\t\t\n\t\t\t\tlet s_index = elm_index+(start_i==0 ? 0 :1)\n\t\t\t\tconst hasImg = arr_elms.find(elm => elm.tag === \"IMG\")\n\t\t\t\ts_index = hasImg ? s_index+1 : s_index\n\t\t\t\telm_html = extractHTML(arr_elms.slice(0, s_index))\n\t\t\t\tnext_html = extractHTML(arr_elms.slice(s_index, arr_elms.length))\n\t\t\t}\n\t\t\tif(!~b_index){\n\t\t\t\telm_html = extractHTML(arr_elms)\n\t\t\t}\n\t\t\tdispatch('enter',{html: elm_html.trim(), next_html: next_html.trim(), klass: gklass, target: e.currentTarget})\n\t\t\te.preventDefault()\n\t\t\treturn false\n\t\t}\n\n\t\tif(e.keyCode == 13 && e.shiftKey == true){\n\t\t\t\n\t\t\tlet div_elm = b_node.nodeName != '#text' ? b_node.parentNode : b_node.parentNode.parentNode\n\t\t\tawait (new Promise(r => setTimeout(r)))\n\t\t\t\n\t\t\tif(customTxtEditor(div_elm)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t// not in rooot\n\t\t\tif(b_node.nodeName != \"DIV\" &&  ((b_node.parentNode && b_node.parentNode.tagName != 'DIV') || !['BR','#text'].includes(b_node.nodeName))){\n\t\t\t\tlet parent = b_node.nodeName != '#text' ? b_node : b_node.parentNode\n\t\t\t\t//div_elm = parent.parentNode ? parent.parentNode : div_elm\n\t\t\t\tif(!parent.parentNode) {\n\t\t\t\t\trefresh()\n\t\t\t\t\tawait (new Promise(r => setTimeout(r)))\n\t\t\t\t\tlet p_elm = div_elm.childNodes[b_index]\n\t\t\t\t\tselection.setBaseAndExtent(p_elm, 0, p_elm, 0);\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t// parent child text nodes\n\t\t\t\tlet children = [...parent.childNodes]\n\t\t\t\tlet elms = []\n\t\t\t\t\n\t\t\t\tfor (let ch of children){\n\t\t\t\t\tif(ch && ch.textContent){\n\t\t\t\t\t\telms.push({txt: ch.textContent, klass: arr_elms[b_index]?.klass||\"\", tag: parent.tagName})\n\t\t\t\t\t}else{\n\t\t\t\t\t\telms.push({tag: \"BR\", txt: \"\"})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tarr_elms.splice(b_index, 1,...elms)\n\t\t\t\trefresh()\n\t\t\t\tawait (new Promise(r => setTimeout(r)))\n\t\t\t\t\n\t\t\t\tlet p_elm = div_elm.childNodes[elms[0].tag == 'BR' ? b_index: b_index+2]\n\t\t\t\tselection.setBaseAndExtent(p_elm, 0, p_elm, 0);\n\t\t\t}\n\n\n\t\t}\n\n\t\tif(!e.ctrlKey && !e.shiftKey && !e.altKey)\n\t\tdispatch('input', e)\n\n\t}\n\n\tfunction customTxtEditor(elm){\n\t\tif(elm?.dataset?.txtcustom) {\n\t\t\treturn elm?.dataset?.txtcustom == \"true\"\n\t\t}\n\t\tif(elm?.parentNode){\n\t\t\treturn customTxtEditor(elm.parentNode)\n\t\t}\n\t\treturn false\n\t}\n\n\tfunction extractHTML(arr){\n\t\tlet str = ''\n\t\tarr.forEach(elm => {\n\t\t\tlet elm_txt = elm.txt\n\t\t\tif(elm.txt){\n\t\t\t\telm_txt = elm.txt.replaceAll('<','&lt;').replaceAll('>','&gt;')\n\t\t\t}\n\t\t\tif(elm.htxt){\n\t\t\t\tstr += elm.htxt\n\t\t\t}else if(elm.tag == 'BR'){\n\t\t\t\tstr += '<br>'\n\t\t\t}else if(elm.tag == 'A'){\n\t\t\t\tstr += `<a href=${elm.href} target=${elm.blank ? '_blank':'_self'} class=\"${elm.klass}\">${elm_txt}</a>`\n\t\t\t}else if(elm.tag == 'IMG'){\n\t\t\t\tstr += `<img src=${elm.href} class=\"${elm.klass}\" alt=\"${elm_txt}\" />`\n\t\t\t}else if(elm.tag == 'VIDEO'){\n\t\t\t\tstr += `<video src=${elm.href} class=\"${elm.klass}\" ${!!elm.opts?.loop ? 'loop':''} ${!!elm.opts?.autoplay ? 'autoplay':''} ${!!elm.opts?.muted ? 'muted':''} ${!!elm.opts?.controls ? 'controls':''} />`\n\t\t\t}else if(elm.tag == 'IFRAME'){\n\t\t\t\tlet ed_str = \"\"\n\t\t\t\tif(editable){\n\t\t\t\t\ted_str = `<div class=\"p-1 text-xs w-32 bg-yellow-200 text-yellow-800 cursor-pointer underline text-center\">\n\t\t\t\t\t\tEdit iframe\n\t\t\t\t\t</div>`\n\t\t\t\t}\n\t\t\t\tstr += `<div class=\"iframe-wrap\" data-iframe=\"true\" contenteditable=\"false\">\n\t\t\t\t\t${ed_str}\n\t\t\t\t\t<iframe src=${elm.href} class=\"${elm.klass}\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen />\n\t\t\t\t</div>`\t\n\t\t\t}else if(elm.klass){\n\t\t\t\tstr += `<span class=\"${elm.klass}\">${elm_txt}</span>`\n\t\t\t}else{\n\t\t\t\tstr += elm_txt\n\t\t\t}\n\t\t})\n\t\treturn str\n\t}\n\n\tfunction refresh(){\t\n\t\thtml = extractHTML(arr_elms)\n\t}\n\n\tlet l_edit_state = editable\n\t$: if(l_edit_state != editable){\n\t\tl_edit_state = editable\n\t\trefresh()\n\t}\n\n\tfunction refreshEvents(){\n\t\tif(!edit_node) return\n\t\t[...edit_node.childNodes].forEach((ch,i) => {\n\t\t\tif(['IMG','VIDEO'].includes(ch.nodeName) || ch.classList?.contains('iframe-wrap')){\n\t\t\t\tch.addEventListener('click', (e)=> editMedia(e.currentTarget,i))\n\t\t\t}\n\t\t})\n\t}\n\n\tlet h_selection = null\n\n\tasync function holdSelection(selection){\n\t\tif(h_selection) return\n\t\th_selection = {\n\t\t\tstart_i: selection.baseOffset ,\n\t\t\tend_i: selection.extentOffset ,\n\t\t\t\n\t\t\tb_node: selection.anchorNode,\n\t\t\te_node: selection.focusNode\n\t\t}\n\t}\n\t\n\t \n\tasync function setClass(class_name,link,opts={}){\n\t\t\n\t\tarr_elms.forEach(e => delete e.selected)\n\t\tlet selection = window.getSelection() \n\t\tlet selection_txt = selection.toString()\n\n\t\tlet\tstart_i = h_selection ? h_selection.start_i : selection.baseOffset \n\t\tlet end_i = h_selection ? h_selection.end_i : selection.extentOffset \n\t\t\n\t\tlet b_node = h_selection ? h_selection.b_node : selection.anchorNode\n\t\tlet e_node = h_selection ? h_selection.e_node : selection.focusNode\n\t\t\n\t\tlet b_index = getIndex(b_node)\n\t\tlet e_index = getIndex(e_node)\n\t\t\n\t\tlet same_node = b_node == e_node \n\t\t \n\t\tlet reverse = b_index > e_index\n\t\t\n\t\tlet sb_index = b_index\n\t\tlet se_index = e_index\n\t\tif(reverse){\n\t\t\tsb_index = e_index\n\t\t\tse_index = b_index\n\t\t\tlet x = start_i\n\t\t\tstart_i = end_i\n\t\t\tend_i = x\n\t\t}\n\t\t\n\t\tlet edit_node = b_node.parentNode\n\t\tif(b_node.parentNode.tagName !== 'DIV'){\n\t\t\tedit_node = edit_node.parentNode\n\t\t}\n\t\t\n\t\tlet n_arr  = arr_elms.slice(sb_index,se_index+1)\n\t\t\t\n\t\tlet arr1 = splitArr(n_arr,0,start_i, same_node && end_i)\n\t\t \n\t\tlet up_arr = arr1.length == 1 ? arr1 : arr1.length == 2&&(start_i==0||end_i==0) ? [arr1[0]] : [arr1[1]] \n\t\t\n\t\tn_arr.splice(0,1,...arr1)\n\t\tlet arr2 = []\n\t\tif(!same_node){\n\t\t\tarr2 = splitArr(n_arr,n_arr.length-1, end_i, false) \n\t\t\tn_arr.splice(n_arr.length-1,1,...arr2)\n\t\t\tup_arr = up_arr.concat(n_arr.slice(1,n_arr.length-(arr2.length == 1 ? 0:1)))  \n\t\t}\n\n\t\ttoggleClass(up_arr, class_name,link, opts)\n\t\tup_arr.forEach(e => e.selected= true)\n\t\t\n\t\tarr_elms.splice(sb_index,se_index-sb_index+1,...n_arr)\n\n\t\tlet p_selector = {}\n\t\tmergeArr(p_selector)\n\t\t\n\t\trefresh()\n\n\t\th_selection = null \n\n\t\tawait tick()\n\n\t\tlet ch_nodes = [...edit_node.childNodes].filter(elm => elm.nodeName !== '#text' || (elm.nodeName == '#text' && elm.length>0))\n\t\t\n\t\tlet start_node = ch_nodes[p_selector.a_start]\n\t\tlet end_node = ch_nodes[p_selector.a_end]\n\t\tstart_node = start_node.nodeName == '#text' ? start_node : start_node.firstChild\n\t\tend_node = end_node.nodeName == '#text' ? end_node : end_node.firstChild\n\n\t\tawait (new Promise(r => setTimeout(r)))\n\t\t\n\t\twindow.getSelection().removeAllRanges();\n\t\twindow.getSelection().setBaseAndExtent(start_node, p_selector.s_start, end_node, p_selector.s_end);\n\t\t\n\t\tholdSelection(window.getSelection())\n\n\t\t\n\t} \n\t\n\n\tasync function setGClass(klass){\n\t\t\n\t\tif(klass){\n\t\t\tif(reg_txt_size.test(klass)){\n\t\t\t\t\n\t\t\t\tgklass = gklass.replace(code_class,'').replace(quote_class,'').trim()\n\t\t\t\treplaceGClass(klass, reg_txt_size)\n\n\t\t\t}else if( klass.startsWith('code')){\n\n\t\t\t\tif(!gklass.includes(code_class)){\n\t\t\t\t\tgklass = gklass.replace(quote_class,'').replace(g_reg_txt_size,'').trim()\n\t\t\t\t\tgklass +=  ' '+code_class\n\t\t\t\t}\n\t\t\t\n\t\t\t}else if( klass.startsWith('quote')){\n\n\t\t\t\tif(!gklass.includes(quote_class)){\n\t\t\t\t\tgklass = gklass.replace(code_class,'').replace(g_reg_txt_size,'').trim()\n\t\t\t\t\tgklass +=  ' '+quote_class\n\t\t\t\t}\n\n\t\t\t}else if(reg_padding.test(klass)){\n\t\t\t\tlet reg_padd = new RegExp(`p${klass[1]}-[^\\\\s]+`)\n\t\t\t\treplaceGClass(klass, reg_padd)\n\t\t\t}else if(reg_margin.test(klass)){\n\t\t\t\tlet reg_mar = new RegExp(`m${klass[1]}-[^\\\\s]+`)\n\t\t\t\treplaceGClass(klass, reg_mar)\n\t\t\t}else if (reg_position.test(klass)){\n\t\t\t\treplaceGClass(klass, reg_position)\n\t\t\t}else if (reg_leading.test(klass)){\n\t\t\t\treplaceGClass(klass, reg_leading)\n\t\t\t}else {\n\t\t\t\ttoggleGClass(klass)\n\t\t\t} \n\t\t\t \n\t\t}else{\n\t\t\telm.klass = klass\n\t\t}\n\t\tdispatch('changeClass')\n\t}\n\t\n\tfunction mergeArr(p_selector){\n\t\tlet n_arr = [{...arr_elms[0]}]\n\t\t\n\t\tif(arr_elms[0].selected){\n\t\t\tp_selector.s_start = 0\n\t\t\tp_selector.a_start = 0\n\t\t\tp_selector.s_end = arr_elms[0].txt.length\n\t\t\tp_selector.a_end = 0\n\t\t}\n\t\t\n\t\tfor(let i=1; i<arr_elms.length;i++){\n\n\t\t\t\tif(arr_elms[i].txt && arr_elms[i].tag == arr_elms[i-1].tag && arr_elms[i].klass == arr_elms[i-1].klass){\n\t\t\t\t\t\n\t\t\t\t\tif(arr_elms[i].selected && !arr_elms[i-1].selected){\n\t\t\t\t\t\tp_selector.s_start = n_arr[n_arr.length-1].txt.length\n\t\t\t\t\t\tp_selector.a_start = n_arr.length-1\n\t\t\t\t\t\tp_selector.s_end = n_arr[n_arr.length-1].txt.length+arr_elms[i].txt.length\n\t\t\t\t\t\tp_selector.a_end = n_arr.length-1\n\t\t\t\t\t}\n\t\t\t\t  \n\t\t\t\t\tn_arr[n_arr.length-1].txt += arr_elms[i].txt \n\t\t\t\t\t\n\n\t\t\t\t}else{\n\t\t\t\t\tif(arr_elms[i].txt){\n\t\t\t\t\t\tn_arr.push({...arr_elms[i]})\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(arr_elms[i].selected && !arr_elms[i-1].selected){\n\t\t\t\t\t\t\tp_selector.s_start = 0\n\t\t\t\t\t\t\tp_selector.a_start = n_arr.length-1\n\t\t\t\t\t\t\tp_selector.s_end = n_arr[n_arr.length-1].txt.length\n\t\t\t\t\t\t\tp_selector.a_end = n_arr.length-1\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}else if(arr_elms[i].tag == 'BR'){\n\t\t\t\t\t\tn_arr.push({...arr_elms[i]})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(arr_elms[i].selected && arr_elms[i-1].selected){\n\t\t\t\t\tp_selector.s_end = n_arr[n_arr.length-1].txt.length\n\t\t\t\t\tp_selector.a_end = n_arr.length-1\n\t\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tarr_elms = n_arr\n\t}\n\n\tfunction toggleColor(arr,klass){\n\n\t\tfor(let elm of arr){\n\t\t\tif(elm.klass){\n\t\t\t\tlet classes = elm.klass.split(' ')\n\t\t\t\tlet s_color_index = classes.findIndex(c => klass.startsWith('text') ? reg_txt_color.test(c) : reg_bg_color.test(c))\n\t\t\t\tlet selected_color_class = ~s_color_index ? classes[s_color_index] : ''\n\t\t\t\tif(selected_color_class){\n\t\t\t\t\t// remove old selected color\n\t\t\t\t\telm.klass = elm.klass.replace(selected_color_class,'').trim()\n\t\t\t\t}\n\t\t\t\telm.klass = elm.klass.split(' ').concat([klass]).join(' ') \n\t\t\t}else{\n\t\t\t\telm.klass = klass\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction toggleFont(arr,klass, reg=reg_font){\n\n\t\tfor(let elm of arr){\n\t\t\tif(elm.klass){\n\t\t\t\tlet classes = elm.klass.split(' ')\n\t\t\t\tlet s_font_index = classes.findIndex(c => reg.test(c))\n\t\t\t\tlet selected_font_class = ~s_font_index ? classes[s_font_index] : ''\n\t\t\t\tif(selected_font_class){\n\t\t\t\t\t// remove old selected color\n\t\t\t\t\telm.klass = elm.klass.replace(selected_font_class,'').trim()\n\t\t\t\t}\n\t\t\t\telm.klass = elm.klass.split(' ').concat([klass]).join(' ') \n\t\t\t}else{\n\t\t\t\telm.klass = klass\n\t\t\t}\n\t\t}\n\n\t}\n\n\n\tlet code_class = 'code text-sm font-mono px-8 py-6 bg-gray-100'\n\tlet quote_class = 'quote text-xl border-l-4 border-gray-800 px-4'\n\n\n\n\tfunction toggleGClass(klass){\n\n\t\tif(gklass.includes(klass)){\n\t\t\tgklass = gklass.replace(klass,'').trim()\n\t\t}else{\n\t\t\tgklass = gklass.split(' ').concat([klass]).join(' ')\n\t\t}\n\t}\n\n\tfunction replaceGClass(klass, reg){\n\t\tgklass = gklass.replace(reg,'').replace(/\\s+/,' ').trim()\n\t\tgklass = gklass+' '+klass\n\t}\n\n\t\n\tlet reg_txt_size = /md:text\\-(sm\\stext-sm|base\\stext-base|xl\\stext-lg|2xl\\stext-xl|3xl\\stext-xl|4xl\\stext-2xl|5xl\\stext-3xl|6xl\\stext-4xl)/\n\t// duplicated, to remove!\n\tlet g_reg_txt_size = /md:text\\-(sm\\stext-sm|base\\stext-base|xl\\stext-lg|2xl\\stext-xl|3xl\\stext-xl|4xl\\stext-2xl|5xl\\stext-3xl|6xl\\stext-4xl)/\n\tlet reg_leading = /leading\\-(none|tight|snug|normal|relaxed|loose)/\n\tlet reg_position = /text\\-(left|right|center)/\n\tlet reg_padding = /^p[lrtb]\\-/\n\tlet reg_margin = /^m[lrtb]\\-/\n\tlet reg_txt_color = /^text\\-(gray|red|yellow|green|blue|indigo|purple|pink|white|black|transparent)/\n\tlet reg_bg_color = /^bg\\-(gray|red|yellow|green|blue|indigo|purple|pink|white|black|transparent)/\n\tconst reg_font = /font\\-(thin|normal|semibold|bold|black)/\n\tconst reg_pad = /p\\-([0-4])/\n\n\t\n\tfunction toggleClass(arr, klass, link, opts={}){\n\n\t\tif(reg_txt_color.test(klass) || reg_bg_color.test(klass)){\n\t\t\ttoggleColor(arr,klass)\n\t\t\tdispatch('changeClass')\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif(reg_font.test(klass)){\n\t\t\ttoggleFont(arr,klass, reg_font)\n\t\t\tdispatch('changeClass')\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif(reg_pad.test(klass)){\n\t\t\ttoggleFont(arr,klass, reg_pad)\n\t\t\tdispatch('changeClass')\n\t\t\treturn\n\t\t}\n\n\t\tif(arr.find(e => e.tag!='BR' && (!e.klass||!e.klass.includes(klass)))){\n\t\t\tfor(let elm of arr){\n\t\t\t\tif(elm.tag != 'BR' && link){\n\t\t\t\t\t\telm.tag = 'A'\n\t\t\t\t\t\telm.href = link\n\t\t\t\t\t\telm.blank = !!opts.blank\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(!elm.klass || !elm.klass.includes(klass)){\n\t\t\t\t\telm.klass = elm.klass ? elm.klass.split(' ').concat([klass]).join(' ') : klass\n\t\t\t\t\telm.tag = elm.tag\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tfor(let elm of arr){\n\t\t\t\tif(elm.tag != \"BR\" && link){\n\t\t\t\t\telm.tag = 'A'\n\t\t\t\t\telm.href = link\n\t\t\t\t\telm.blank = !!opts.blank\n\t\t\t\t}\n\t\t\t\tif(link===null && elm.tag != 'IMG' && elm.klass && elm.klass.includes('link')){\n\t\t\t\t\tdelete elm.href\n\t\t\t\t\tdelete elm.tag\n\t\t\t\t}\n\t\t\t\tif(!link)\n\t\t\t\t\telm.klass = (elm.klass||'')&&elm.klass.replace(klass,'').trim()\n\t\t\t\tif(elm.klass == '')\n\t\t\t\t\tdelete elm.klass\n\t\t\t}\n\t\t}\n\t\tdispatch('changeClass')\n\n\t}\n\n\tfunction splitArr(arr, a_i, s_i, e_i){\n\n\t\tlet start = s_i\n\t\tlet end = e_i||arr[a_i]?.txt?.length||arr.length+1\t\t\n\t\tif(e_i && e_i<s_i){\n\t\t\tstart = e_i \n\t\t\tend = s_i \n\t\t}  \n\t\tif(arr[a_i] && !arr[a_i].txt){\n\t\t\treturn [{txt: \"\"},{txt: \"\", klass: arr[a_i].klass, tag: arr[a_i].tag, href: arr[a_i].href }]\n\t\t}\n\t\tlet s1 = arr[a_i]?.txt.slice(0,start)\n\t\tlet s2 = arr[a_i]?.txt.slice(start,end)\n\t\tlet arr1 = []\n\t\tlet i = 0\n\t\tif(s1){\n\t\t\tarr1[i++] = {txt: s1, klass: arr[a_i].klass, tag: arr[a_i].tag, href: arr[a_i].href }\n\t\t}\n\t\tif(s2){\n\t\t\tarr1[i++] = {txt: s2, klass: arr[a_i].klass, tag: arr[a_i].tag, href: arr[a_i].href }\n\t\t}\n\t\tif(e_i && arr[a_i]?.txt.slice(end,arr[a_i].txt.length)){\n\t\t\tarr1[i++] = {txt: arr[a_i].txt.slice(end,arr[a_i].txt.length), klass: arr[a_i].klass, tag: arr[a_i].tag, href: arr[a_i].href}\n\t\t}\n\t\t \n\t\treturn arr1\n\t}\n\t\n\t// return last element if index is\n\tfunction getIndex(node){\n\t\tlet p_node = node\n\t\tif(!node) return -1\n\t\tif(node.nodeName == 'DIV') {\n\t\t\tp_node = node.children[0]\n\t\t\tif(!p_node) return -1\n\t\t}\n\t\telse if(['SPAN','A'].includes(node.parentNode.tagName)){\n\t\t\tp_node = node.parentNode\n\t\t}\n\t\treturn [...p_node.parentNode.childNodes].filter(n => n.nodeName!='#text' || n.length>0).indexOf(p_node)\n\t\t\n\t}\n\t\n\t// EVENT FN\n\t\n\tfunction extractClasses(b_index,e_index){\n\t\tif(b_index > e_index){\n\t\t\tlet x = b_index\n\t\t\tb_index = e_index \n\t\t\te_index =  x \n\t\t}\n\t\tlet arr_slice = arr_elms.slice(b_index,e_index+1)\n\t\tif(!arr_slice[0] || !arr_slice[0].klass) \n\t\t\treturn ''\n\n\t\tlet b_class = arr_slice[0].klass\n\t\t// find similar classes\n\t\tlet arr_classes = b_class.split(' ')\n\t\t// if word not found remove it\n\t\tfor(let i=1; i<arr_slice.length;i++){\n\t\t\t// get all the common classes!\n\t\t\tlet elm = arr_slice[i]\n\t\t\tfor(let w_class of arr_classes){\n\t\t\t\tif(elm.klass && !elm.klass.includes(w_class)){\n\t\t\t\t\tb_class = b_class.replace(w_class,'').trim()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn b_class\n\t}\n\n\tfunction extractLink(b_index,e_index){\n\t\tif(b_index > e_index){\n\t\t\tlet x = b_index\n\t\t\tb_index = e_index \n\t\t\te_index =  x \n\t\t}\n\t\tlet arr_slice = arr_elms.slice(b_index,e_index+1)\n\t\t\n\t\tlet href = ''\n\t\tlet blank = true\n\n\t\tfor(let i=0; i<arr_slice.length;i++){\n\t\t\t// get all the common classes!\n\t\t\tlet elm = arr_slice[i]\n\t\t\tif(elm.href){\n\t\t\t\thref = elm.href\n\t\t\t\tblank = elm.blank\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn {href, blank}\n\t}\n\n\t// this sets gklass for the float, since float need to be applied for the parent\n\tfunction setClasses(media){\n\t\t// let zmatch = media.klass.match(/z-\\d+/)\n\t\t// let z = zmatch?.[0] || \"\"\n\t\t// let floatmatch = media.klass.match(/float-\\w+/)\n\t\t// let float = floatmatch?.[0] || \"\"\n\t\t// gklass = gklass.replace(/z-\\d+/,'')\n\t\t// gklass = gklass.replace(/float-\\w+/,'')\n\t\t// gklass += ` ${z} ${float} `\n\t\t\n\t\tconst fclass = \"flex items-start\"\n\t\tconst fclassRev = \"flex justify-end items-start\"\n\t\tconst fclassCenter = \"flex justify-center items-start\"\n\n\t\tgklass = gklass.replace(/flex.+start/,'')\n\t\tconsole.log(\"GKLASS --> \", gklass)\n\t\tif (media.klass.includes(fclass)) {\n\t\t\tgklass += \" \"+fclass\n\t\t}\n\t\tif (media.klass.includes(fclassRev)) {\n\t\t\tgklass += \" \"+fclassRev\n\t\t}\n\t\tif (media.klass.includes(fclassCenter)) {\n\t\t\tgklass += \" \"+fclassCenter\n\t\t}\n\t\tgklass = gklass.replace(/\\s+/g,' ').trim()\n\t\t// media.klass = media.klass.replace(/z-\\d+/,'').replace(/float-\\w+/,'')\n\n\t}\n\n\t// embed image or video!\n\tasync function embedElement(e,b_node,b_index){\n\t\t//TODO key code is not up/down/left/right\n\t\tlet src = b_node.textContent.split(' ').pop()\n\t\tif(src && src.startsWith('https')){ \n\t\t\tlet is_img = await Util.testImgUrl(src.trim())\n\t\t\tlet is_video = Util.testVideoUrl(src.trim())\n\t\t\tlet iframe_vid = Util.parseYouTube(src.trim()) || Util.parseVimeo(src.trim())\n\t\t\tif(is_img || is_video || iframe_vid) {\n\t\t\t\tdispatch('set_media', {\n\t\t\t\t\tsetMedia: (img) => {\n\t\t\t\t\t\tsetClasses(img)\n\t\t\t\t\t\tif(is_img)\n\t\t\t\t\t\t\tsetImg(img.klass,img.alt,src,b_index)\n\t\t\t\t\t\telse if(is_video)\n\t\t\t\t\t\t\tsetVideo(img.klass,img.opts,src,b_index)\n\t\t\t\t\t\telse if(iframe_vid)\n\t\t\t\t\t\t\tsetIframe(img.klass,iframe_vid,b_index)\n\t\t\t\t\t}, \n\t\t\t\t\tmedia_type: is_img ? 'IMG': is_video ? 'VIDEO' : iframe_vid ? 'IFRAME' : 'AUDIO',\n\t\t\t\t\tbase_node: b_node,\n\t\t\t\t\tsrc: iframe_vid || src,\n\t\t\t\t\tdelMedia: () => delElm(b_index),\n\t\t\t\t\tmouseX\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction editMedia(b_node, i){\n\t\tlet elm = arr_elms[i]\n\t\tlet extra = {alt: elm?.txt||''}\n\t\tif(b_node.tagName == \"VIDEO\")\n\t\t\textra = {opts: elm?.opts||{}}\n\t\t// if(b_node.classList?.contains('iframe-wrap')){\n\t\t// \tb_node = b_node.lastChild\n\t\t// }\n\t\tdispatch('set_media',  {\n\t\t\tsetMedia: (img) => {\n\t\t\t\tif(!img.src) return\n\t\t\t\tsetClasses(img)\n\t\t\t\tif(img.media_type == \"VIDEO\"){\n\t\t\t\t\tsetVideo(img.klass,img.opts,img.src,i)\n\t\t\t\t}else if(img.media_type == \"IMG\"){\n\t\t\t\t\tsetImg(img.klass,img.alt,img.src,i)\n\t\t\t\t}else if(img.media_type == \"IFRAME\"){\n\t\t\t\t\tsetIframe(img.klass, img.src,i)\n\t\t\t\t}\n\t\t\t}, \n\t\t\tbase_node: b_node, \n\t\t\tmedia_type: b_node.tagName,\n\t\t\tsrc: elm?.href||'', \n\t\t\tklass: elm?.klass||'', \n\t\t\t...extra,\n\t\t\tdelMedia: () => delElm(i),\n\t\t\tmouseX\n\t\t})\n\t}\n\n\tfunction delElm(b_index){\n\t\tarr_elms.splice(b_index,1)\n\t\trefresh()\n\t}\n\n\tfunction setImg(klass,alt,src,b_index){\n\t\tgklass\n\t\tarr_elms[b_index] = {tag: 'IMG', href: src, txt: alt, klass}\n\t\trefresh()\n\t}\n\t\n\tfunction setVideo(klass,opts,src,b_index){\n\t\tarr_elms[b_index] = {tag: 'VIDEO', href: src, opts, klass}\n\t\trefresh()\n\t}\n\t\n\tfunction setIframe(klass,src,b_index){\n\t\tarr_elms[b_index] = {tag: 'IFRAME', href: src, klass}\n\t\trefresh()\n\t}\n\t\n\tlet mouseX\n\tfunction setMouseX(e){\n\t\tmouseX = e.clientX\n\t} \n\n\tlet l_selected = ''\n\tfunction fireSelect(e){\n\t\t\n\t\t \n\t\tlet selection = window.getSelection() \n\t\tlet selection_txt = selection.toString()\n\t\tlet b_node = selection.anchorNode\n\t\tlet e_node = selection.focusNode\n\t\tlet b_index = getIndex(b_node)\n\t\tlet e_index = getIndex(e_node)\n\n\t\tif(!b_node?.nodeName) return\n\t\tif(b_node.nodeName == 'DIV' || e_node.nodeName == 'DIV'){\n\t\t\thideSelect()\n\t\t\treturn\n\t\t}\n\t\th_selection = null\n\t\tif(selection_txt){\t\t\t\t\n\t\t\tlet base_node = b_index < e_index ? b_node : e_node\n\t\t\tholdSelection(selection)\n\t\t\t// extract classes to pass them to the toolbar!\n\t\t\tlet classes = extractClasses(b_index,e_index)\n\t\t\tlet {href, blank} = extractLink(b_index,e_index)\n\t\t\tif(customTxtEditor(b_node)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tdispatch('select',{setClass, setGClass, base_node: b_node, classes, g_classes: gklass, href, blank, mouseX})\n\t\t}else{\n\t\t\tembedElement(e,b_node,b_index)\n\t\t\thideSelect()\n\n\t\t}\n\t\tl_selected = selection_txt\n\n\t}\n\t\n\tfunction hideSelect(){\n\t\tdispatch('hideselect')\n\t}\n\n\tlet edit_node \n\tfunction setEditorNode(node){\n\t\tedit_node = node\n\t}\n\n\tfunction scaleToFit(img){\n\t\t// get the scale\n\t\tconst canvas = document.createElement('canvas')\n\t\tconst ctx = canvas.getContext('2d')\n\t\tcanvas.width = img.width\n\t\tcanvas.height = img.height\n\t\tctx.drawImage(img, 0,0);\n\t\treturn canvas.toDataURL(\"image/webp\");\n\t}\n\n\tfunction pasteImg(blob){\n\t\treturn new Promise(resolve => {\n\t\t\t  if (blob !== null) {\n\t\t\t    let reader = new FileReader();\n\t\t\t    reader.onload = function(event) {\n\t\t\t\t\tconst imgUrl = event.target.result\n\t\t\t\t\tconst img = new Image()\n\t\t\t\t\timg.src = imgUrl\n\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\tlet dataUrl = scaleToFit(img)\n\t\t\t\t\t\thtml = html.replace(imgUrl, dataUrl)\n\t\t\t\t\t}\n\t\t\t      \tresolve(event.target.result)\n\n\t\t\t    };\n\t\t\t    reader.readAsDataURL(blob);\n\t\t\t  }else{\n\t\t\t  \tresolve()\n\t\t\t  }\n\t\t  })\n\t}\n\n\tfunction pasteContent(event){\n\t\t \n\t\t  const items = (event.clipboardData  || event.originalEvent.clipboardData).items;\n\t\t \n\t\t  let blob = null;\n\t\t  for (let i = 0; i < items.length; i++) {\n\t\t    if (items[i].type.indexOf(\"image\") === 0) {\n\t\t      blob = items[i].getAsFile();\n\t\t    }\n\t\t  }\n\t\t  if(blob !== null){\n\t\t\t  pasteImg(blob)\n\t\t  }else{\n\t\t\t  let src = event.path?.[0]\n\t\t\t  // skib generated br\n\t\t\t  if(src.tagName == \"BR\"){\n\t\t\t\t  src = event.path?.[1]\n\t\t\t  }\n\n\t\t\tif(html.trim()){\n\t\t\t\tlet clipboardData = event.clipboardData || window.clipboardData\n\t\t\t\tlet txt = clipboardData.getData('text')\n\t\t \t\tevent.preventDefault() \t\n\t\t\t\tconst selection = window.getSelection();\n\t\t\t\tif (!selection.rangeCount) return false;\n\t\t\t\tselection.deleteFromDocument();\n\t\t\t\tselection.getRangeAt(0).insertNode(document.createTextNode(txt))\n\t\t\t\thtml = contentEditorNode.innerHTML\n\t\t\t\tgenerateArr()\n\t\t\t\trefresh()\n\t\t\t\tdispatch('input')\n\t\t\t}else{\n\t\t\t\tdispatch('pasteTxt', src)\n\t\t\t}\n\n\t\t\t// dispatch('pasteTxt', event.srcElement)\n\t\t\tevent.stopPropagation()\n\t\t  }\n\t\t  \n\t}\n\n\tfunction triggerUpdate(){\n\t\tdispatch('update')\n\t}\n\n\tlet contentEditorNode\n\n\t$: ish1 = gklass.includes('text-6xl')\n\t$: ish2 = gklass.includes('text-5xl')\n\t$: ish3 = gklass.includes('text-4xl')\n\t$: ish4 = gklass.includes('text-3xl')\n\t$: ish5 = gklass.includes('text-2xl')\n\t$: ish6 = gklass.includes('text-xl')\n</script>\n\n<svelte:window on:mousemove={triggerUpdate} />\n\n{#if editable}\n\t<div use:setEditorNode data-txtcustom={custom} bind:this={contentEditorNode} data-txteditor=\"true\" on:paste={pasteContent} on:blur on:mousemove={setMouseX} on:mouseup|stopPropagation bind:innerHTML={html} spellcheck=\"false\" contenteditable=\"true\" on:keydown={handleKeydown}  class=\"outline-none focus:outline-none relative {gklass}\" on:mouseup={fireSelect} on:keyup={fireSelect}  >\n\t</div>\n{:else}\n\t{#if ish1 }\n\t\t<h1 class=\"relative {gklass}\" data-txteditor=\"true\">\n\t\t\t{@html html}\n\t\t</h1>\n\t{:else if ish2 }\n\t\t<h2 class=\"relative {gklass}\" data-txteditor=\"true\">\n\t\t\t{@html html}\n\t\t</h2>\n\t{:else if ish3 }\n\t\t<h3 class=\"relative {gklass}\" data-txteditor=\"true\">\n\t\t\t{@html html}\n\t\t</h3>\n\t{:else if ish4 }\n\t\t<h4 class=\"relative {gklass}\" data-txteditor=\"true\">\n\t\t\t{@html html}\n\t\t</h4>\n\t{:else if ish5 }\n\t\t<h5 class=\"relative {gklass}\" data-txteditor=\"true\">\n\t\t\t{@html html}\n\t\t</h5>\n\t{:else if ish6 }\n\t\t<h6 class=\"relative {gklass}\" data-txteditor=\"true\">\n\t\t\t{@html html}\n\t\t</h6>\n\t{:else if !html}\n\t\t<br>\n\t{:else}\n\t\t<div class=\"relative {gklass}\" data-txteditor=\"true\">\n\t\t\t{@html html.replace(/<div.*Edit iframe.*?<\\/div>/gs,'')}\n\t\t</div>\n\t{/if}\n{/if}\n\t\t\t\t\t  ","<svg class=\"w-4 h-4 text-red-700 fill-current\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.46457 14.1213C8.07404 14.5118 8.07404 15.145 8.46457 15.5355C8.85509 15.926 9.48825 15.926 9.87878 15.5355L15.5356 9.87862C15.9262 9.4881 15.9262 8.85493 15.5356 8.46441C15.1451 8.07388 14.5119 8.07388 14.1214 8.46441L8.46457 14.1213Z\" fill=\"currentColor\" /><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6.34315 17.6569C9.46734 20.781 14.5327 20.781 17.6569 17.6569C20.781 14.5327 20.781 9.46734 17.6569 6.34315C14.5327 3.21895 9.46734 3.21895 6.34315 6.34315C3.21895 9.46734 3.21895 14.5327 6.34315 17.6569ZM16.2426 16.2426C13.8995 18.5858 10.1005 18.5858 7.75736 16.2426C5.41421 13.8995 5.41421 10.1005 7.75736 7.75736C10.1005 5.41421 13.8995 5.41421 16.2426 7.75736C18.5858 10.1005 18.5858 13.8995 16.2426 16.2426Z\" fill=\"currentColor\" /></svg>","\n<script>\n\timport NoColor from '../Icons/NoColor.svelte'\n\timport {createEventDispatcher} from 'svelte/internal'\n\n\tlet dispatch = createEventDispatcher()\n\texport let selected_color = ''\n\tlet colors = [\n\t\t'gray','red','yellow','green','blue','indigo','purple','pink'\n\t]\n\t\n\tfunction selectColor(e,color){\n\t\tselected_color = color\n\t\tdispatch('select',color)\n\t\te.preventDefault()\n\t\te.stopPropagation()\n\t}\n</script>\n\n<div class=\"flex\">\t\n\t<div class=\"shadow-xl border border-gray-200\">\n\t\t<div class=\"flex items-center\">\n\t\t\t<div class=\"bg-black  w-5 h-5 cursor-pointer\" on:click={(e) => selectColor(e,`black`)}>\n\t\t\t</div>\n\t\t\t<div class=\"bg-white border border-gray-400 w-5 h-5 cursor-pointer\" on:click={(e) => selectColor(e,`white`)}>\n\t\t\t</div>\n\t\t\t<div class=\"bg-white border-t border-b border-r border-gray-400 w-5 h-5 flex items-center justify-center cursor-pointer\" on:click={(e) => selectColor(e,`transparent`)}>\n\t\t\t\t<NoColor />\n\t\t\t</div>\n\t\t</div>\n\t\t{#each (new Array(8)) as num,i}\n\t\t\t<div class=\"flex\">\n\t\t\t\t{#each colors as color}\n\t\t\t\t\t<div class=\"bg-{color}-{(i+1)*100} w-5 h-5 cursor-pointer\" on:click={(e) => selectColor(e,`${color}-${(i+1)*100}`)}>\n\t\t\t\t\t</div>\n\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t{/each}\n\t</div>\n</div>","<svg class=\"w-4 h-4 text-gray-700\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.34317 7.75732L4.92896 9.17154L12 16.2426L19.0711 9.17157L17.6569 7.75735L12 13.4142L6.34317 7.75732Z\" fill=\"currentColor\" /></svg>","<script>\n\timport ColorList from './ColorList.svelte'\n\timport DownIcon from '../Icons/DownIcon.svelte'\n\t\n\texport let txt = 'text'\n\texport let setClass\n\t// get color from klass\n\texport let klass\n\n\t$: posKlass = lNode?.getBoundingClientRect()?.bottom > window.innerHeight ? 'bottom-0 mb-8' : 'mt-8 top-0' \n\n\tlet lNode\n\n\tlet colors = [\n\t\t'gray','red','yellow','green','blue','indigo','purple','pink'\n\t]\n\tlet show_colors = false\n\tlet selected_color = 'blue-500'\n\n\t$: if(klass){\n\t\tlet classes = klass.split(' ')\n\t\tlet reg = new RegExp(txt+'\\\\-('+colors.join('|')+')')\n\t\tlet s_color_index = classes.findIndex(c => reg.test(c))\n\t\tselected_color = ~s_color_index ? classes[s_color_index].replace(txt+'-','') : ''\n\t}\n\n\n\tfunction selectColor(evt){\n\t\tsetClass(txt+\"-\"+evt.detail)\t\t\n\t\tselected_color = evt.detail\n\t}\n\n\tfunction showColors(e){\n\t\tshow_colors = !show_colors\n\t\te.stopPropagation()\n\t\te.preventDefault()\n\t}\n\t\n\tfunction hideColors(){\n\t\tshow_colors= false\n\t}\n</script>\n\n<svelte:window on:click={hideColors} />\n<div class=\"flex relative\">\t\n\t<div class=\"font-medium flex items-center cursor-pointer {txt}-{selected_color} px-1\" on:click={showColors}>\n\t\t<span class=\"\">A</span> <DownIcon />\n\t</div>\n\t{#if show_colors}\n\t\t<div class=\"absolute left-0 {posKlass} z-20 z-920 bg-white\" bind:this={lNode}>\t\n\t\t\t<ColorList selected_color={selected_color} on:select={selectColor} />\n\t\t</div>\n\t{/if}\n</div>","<svg\n  class=\"w-4 h-4\"\n  viewBox=\"0 0 24 24\"\n  fill=\"none\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n>\n  <path\n    d=\"M9.95263 16.9123L8.59323 18.3608L2.03082 12.2016L8.18994 5.63922L9.64826 7.00791L4.85783 12.112L9.95212 16.8932L9.95263 16.9123Z\"\n    fill=\"currentColor\"\n  />\n  <path\n    d=\"M14.0474 16.9123L15.4068 18.3608L21.9692 12.2016L15.8101 5.63922L14.3517 7.00791L19.1422 12.112L14.0479 16.8932L14.0474 16.9123Z\"\n    fill=\"currentColor\"\n  />\n</svg>","<script>\n  export let href;\n  export let blank = true\n  let show_link = false;\n  export let setLink;\n  function toggleLink(e) {\n    show_link = !show_link;\n    stop(e);\n  }\n  function stop(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    return false;\n  }\n  function hideLink() {\n    show_link = false;\n  }\n\n  function addLink() {\n    setLink(`link`, href, {blank});\n    hideLink();\n  }\n\n  function rmLink() {\n    setLink(\"link\", null);\n    hideLink();\n  }\n</script>\n\n<svelte:window on:click={hideLink} />\n<div class=\"relative\" on:mousedown>\n  <span class=\"px-2 py-1\" on:click={toggleLink}>\n    <span class=\"border-b border-gray-400\">Link</span>\n  </span>\n  {#if show_link}\n    <div\n      class=\"absolute p-3 shadow-xl flex rounded bg-white -ml-24 mt-1 z-920 z-20\"\n      on:click={stop}>\n      <input\n        on:click={stop}\n        on:focus={stop}\n        type=\"text\"\n        bind:value={href}\n        placeholder=\"Past your link, such as http://fouita.com\"\n        class=\"bg-gray-100 border p-1 w-64 rounded outline-none\n        shadow-inner\" />\n      <button\n        class=\"ml-2 hover:bg-gray-300 px-3 rounded outline-none\"\n        on:click={addLink}>\n        Link\n      </button>\n      <button\n        class=\"hover:bg-gray-300 px-3 rounded outline-none\"\n        on:click={rmLink}>\n        Unlink\n      </button>\n      <label class=\"flex items-center text-black text-xs\" on:click|stopPropagation>\n        <input type=\"checkbox\" bind:checked={blank} class=\"mr-2\" />\n        _Blank\n      </label>\n    </div>\n  {/if}\n</div>\n","<svg class=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 5C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7H20C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5H4Z\" fill=\"currentColor\" /><path d=\"M4 9C3.44772 9 3 9.44772 3 10C3 10.5523 3.44772 11 4 11H20C20.5523 11 21 10.5523 21 10C21 9.44772 20.5523 9 20 9H4Z\" fill=\"currentColor\" /><path d=\"M3 14C3 13.4477 3.44772 13 4 13H20C20.5523 13 21 13.4477 21 14C21 14.5523 20.5523 15 20 15H4C3.44772 15 3 14.5523 3 14Z\" fill=\"currentColor\" /><path d=\"M4 17C3.44772 17 3 17.4477 3 18C3 18.5523 3.44772 19 4 19H20C20.5523 19 21 18.5523 21 18C21 17.4477 20.5523 17 20 17H4Z\" fill=\"currentColor\" /></svg>","<svg class=\"w-4 h-4 text-gray-700\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.5858 13.4142L7.75735 10.5858L6.34314 12L10.5858 16.2427L17.6568 9.1716L16.2426 7.75739L10.5858 13.4142Z\" fill=\"currentColor\" /></svg>","<script>\n\timport CheckIcon from '../Icons/CheckIcon.svelte'\n\timport {createEventDispatcher} from 'svelte/internal'\n\tlet dispatch = createEventDispatcher()\n\texport let list = []\n\texport let selected\n\t\n\tfunction select(e,val){\n\t\tselected = val\n\t\tdispatch('select',selected)\n\t\te.stopPropagation()\n\t\te.preventDefault()\n\t}\n</script>\n\n<div class=\"shadow-xl border-r border-l rounded mt-1 bg-white\">\t\n\t{#each list as elm}\n\t\t<div class=\"px-2 py-1 flex items-center hover:bg-gray-200 cursor-pointer\" on:click={(e) => select(e,elm.value)}>\n\t\t\t{#if selected == elm.value}\n\t\t\t\t<CheckIcon />\n\t\t\t{/if}\n\t\t\t<span class=\"{selected == elm.value ? 'ml-1':'ml-5'} pr-2\">\n\t\t\t\t{elm.label}\n\t\t\t</span>\n\t\t</div>\n\t{/each}\n</div>","<script>\n\t\n\timport List from './List.svelte'\n\tlet klass = ''\n\texport let open = false\n\texport {klass as class}\n\texport let selected\n\t\n\t$: posKlass = lNode?.getBoundingClientRect()?.bottom > window.innerHeight ? 'bottom-0 mb-8' : '' \n\n\tlet lNode\n\n\n\texport let list = [\n\t\t{\n\t\t\tlabel:'none',\n\t\t\tvalue:'none'\n\t\t},\n\t\t{\n\t\t\tlabel:'tight',\n\t\t\tvalue:'tight'\n\t\t},\n\t\t{\n\t\t\tlabel:'snug',\n\t\t\tvalue:'snug'\n\t\t},\n\t\t{\n\t\t\tlabel:'normal',\n\t\t\tvalue:'normal'\n\t\t},\n\t\t{\n\t\t\tlabel:'relaxed',\n\t\t\tvalue:'relaxed'\n\t\t},\n\t\t{\n\t\t\tlabel:'loose',\n\t\t\tvalue:'loose'\n\t\t}\n\t]\n\n\tfunction toggleList(e){\n\t\topen= !open\n\t\te.preventDefault()\n\t\te.stopPropagation()\n\t}\n\t\n\tfunction hideList(){\n\t\topen = false\n\t}\n\t\n</script>\n\n<svelte:window on:click={hideList} />\n<div class=\"relative\">\n\t<div class=\"cursor-pointer flex h-full\" on:click={toggleList}>\n\t\t<slot>Click To show</slot>\n\t</div>\n\t{#if open}\n\t<div class=\"absolute -ml-1 z-920 z-20 {klass} {posKlass}\" bind:this={lNode}>\n\t\t<List {list} {selected} on:select />\n\t</div>\n\t{/if}\n</div>","<svg class=\"w-5 h-5 text-gray-700\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5.09668 6.99707H7.17358L4.17358 3.99707L1.17358 6.99707H3.09668V17.0031H1.15881L4.15881 20.0031L7.15881 17.0031H5.09668V6.99707Z\" fill=\"currentColor\" /><path d=\"M22.8412 7H8.84119V5H22.8412V7Z\" fill=\"currentColor\" /><path d=\"M22.8412 11H8.84119V9H22.8412V11Z\" fill=\"currentColor\" /><path d=\"M8.84119 15H22.8412V13H8.84119V15Z\" fill=\"currentColor\" /><path d=\"M22.8412 19H8.84119V17H22.8412V19Z\" fill=\"currentColor\" /></svg>","<script>\n\timport DropDown from './DropDown.svelte'\n\timport LineHeightIcon from '../Icons/LineHeightIcon.svelte'\n\texport let klass = ''\n\texport let setClass = ''\n\t$: leading_class = klass.split(' ').find(c => c.startsWith('leading')) || ''\n\t$: selected = leading_class.replace('leading-','')\n\tlet open = false \n\tfunction selectClass(evt){\n\t\topen = false\n\t\tselected = evt.detail\n\t\tsetClass('leading-'+evt.detail)\n\t}\n\n\tlet list = [\n\t\t{\n\t\t\tlabel:'none',\n\t\t\tvalue:'none'\n\t\t},\n\t\t{\n\t\t\tlabel:'tight',\n\t\t\tvalue:'tight'\n\t\t},\n\t\t{\n\t\t\tlabel:'snug',\n\t\t\tvalue:'snug'\n\t\t},\n\t\t{\n\t\t\tlabel:'normal',\n\t\t\tvalue:'normal'\n\t\t},\n\t\t{\n\t\t\tlabel:'relaxed',\n\t\t\tvalue:'relaxed'\n\t\t},\n\t\t{\n\t\t\tlabel:'loose',\n\t\t\tvalue:'loose'\n\t\t}\n\t]\n</script>\n\n<div class=\"flex h-full\">\n\t<DropDown {list} bind:open={open} on:select={selectClass} {selected} class=\"text-sm\">\n\t\t<div class=\"pl-2 pr-3 py-1 h-full flex items-center\">\n\t\t\t<LineHeightIcon />\n\t\t</div>\n\t</DropDown>\n</div>","<script>\n\n\timport DropDown from './DropDown.svelte'\n\timport DownIcon from '../Icons/DownIcon.svelte'\n\t\n\texport let setClass\n\texport let klass  = ''\n\tlet code_class  = 'code text-sm font-mono px-8 py-6 bg-gray-100'\n\tlet quote_class  = 'quote text-xl border-l-4 border-gray-800 px-4'\n\n\n\tlet list = [\n\t\t{\n\t\t\tlabel:'Text Small',\n\t\t\tvalue:'md:text-sm text-sm'\n\t\t},\n\t\t{\n\t\t\tlabel:'Text',\n\t\t\tvalue:'md:text-base text-base'\n\t\t},\n\t\t{\n\t\t\tlabel:'Code',\n\t\t\tvalue: code_class\n\t\t},\n\t\t{\n\t\t\tlabel:'Quote',\n\t\t\tvalue: quote_class\n\t\t},\n\t\t{\n\t\t\tlabel:'Heading 1',\n\t\t\tvalue:'md:text-6xl text-4xl'\n\t\t},\n\t\t{\n\t\t\tlabel:'Heading 2',\n\t\t\tvalue:'md:text-5xl text-3xl'\n\t\t},\n\t\t{\n\t\t\tlabel:'Heading 3',\n\t\t\tvalue:'md:text-4xl text-2xl'\n\t\t},\n\t\t{\n\t\t\tlabel:'Heading 4',\n\t\t\tvalue:'md:text-3xl text-xl'\n\t\t},\n\t\t{\n\t\t\tlabel:'Heading 5',\n\t\t\tvalue:'md:text-2xl text-xl'\n\t\t},\n\t\t{\n\t\t\tlabel:'Heading 6',\n\t\t\tvalue:'md:text-xl text-lg'\n\t\t}\n\t]\n\n\n\tfunction inList(){\n\t\tfor(let v of list){\n\t\t\tif(~klass.indexOf(v.value))\n\t\t\t\treturn v.value\n\t\t}\n\t\treturn false\n\t}\n\n\t$: text_class = (klass.includes('code')&&code_class) || (klass.includes('quote')&&quote_class) || inList() || ''\n\t$: selected_val = text_class\n\n\t\n\t$: selected = list.find(e => e.value==selected_val)\n\t$: selected_label = (selected&&selected.label)||'Text'\n\n\t\n\n\tlet open = false\n\tfunction selectClass(evt){\n\t\tselected_val = evt.detail\n\t\topen = false\n\t\tsetClass(evt.detail)\n\t}\n</script>\n\n<div class=\"flex h-full\">\n\t<DropDown {list} bind:open={open} selected={selected_val} on:select={selectClass} class=\"w-32 text-sm\">\n\t\t<div class=\"pl-2 pr-3 py-1 h-full flex items-center whitespace-nowrap flex-shrink-0\">\n\t\t\t{selected_label} <DownIcon />\n\t\t</div>\n\t</DropDown>\n</div>","<svg class=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 5C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7H20C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5H4Z\" fill=\"currentColor\" /><path d=\"M4 13C3.44772 13 3 13.4477 3 14C3 14.5523 3.44772 15 4 15H20C20.5523 15 21 14.5523 21 14C21 13.4477 20.5523 13 20 13H4Z\" fill=\"currentColor\" /><path d=\"M6 10C6 9.44772 6.44772 9 7 9H17C17.5523 9 18 9.44772 18 10C18 10.5523 17.5523 11 17 11H7C6.44772 11 6 10.5523 6 10Z\" fill=\"currentColor\" /><path d=\"M7 17C6.44772 17 6 17.4477 6 18C6 18.5523 6.44772 19 7 19H17C17.5523 19 18 18.5523 18 18C18 17.4477 17.5523 17 17 17H7Z\" fill=\"currentColor\" /></svg>","<svg class=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 5C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7H20C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5H4Z\" fill=\"currentColor\" /><path d=\"M4 9C3.44772 9 3 9.44772 3 10C3 10.5523 3.44772 11 4 11H12C12.5523 11 13 10.5523 13 10C13 9.44772 12.5523 9 12 9H4Z\" fill=\"currentColor\" /><path d=\"M3 14C3 13.4477 3.44772 13 4 13H20C20.5523 13 21 13.4477 21 14C21 14.5523 20.5523 15 20 15H4C3.44772 15 3 14.5523 3 14Z\" fill=\"currentColor\" /><path d=\"M4 17C3.44772 17 3 17.4477 3 18C3 18.5523 3.44772 19 4 19H12C12.5523 19 13 18.5523 13 18C13 17.4477 12.5523 17 12 17H4Z\" fill=\"currentColor\" /></svg>","<svg class=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20 5C20.5523 5 21 5.44772 21 6C21 6.55228 20.5523 7 20 7H4C3.44772 7 3 6.55228 3 6C3 5.44772 3.44772 5 4 5H20Z\" fill=\"currentColor\" /><path d=\"M20 9C20.5523 9 21 9.44772 21 10C21 10.5523 20.5523 11 20 11H12C11.4477 11 11 10.5523 11 10C11 9.44772 11.4477 9 12 9H20Z\" fill=\"currentColor\" /><path d=\"M21 14C21 13.4477 20.5523 13 20 13H4C3.44772 13 3 13.4477 3 14C3 14.5523 3.44772 15 4 15H20C20.5523 15 21 14.5523 21 14Z\" fill=\"currentColor\" /><path d=\"M20 17C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19H12C11.4477 19 11 18.5523 11 18C11 17.4477 11.4477 17 12 17H20Z\" fill=\"currentColor\" /></svg>","<script>\r\n    let klass = \"w-3 h-3\"\r\n    export {klass as class}\r\n</script>                    \r\n<svg viewBox=\"0 0 20 20\" xmlns='http://www.w3.org/2000/svg' class={klass}>\r\n    <path d=\"M5 6h10l-5 9l-5-9z\" fill=\"currentColor\"/>\r\n</svg>    \r\n           ","export const STYLE = {\r\n    BOLD: 'font-bold',\r\n    ITALIC: 'italic',\r\n    UNDERLINE: 'underline',\r\n    LINETHROUGH: 'line-through',\r\n    CODE: 'font-mono px-2 border border-gray-200',\r\n    LINK: 'link',\r\n    CENTER: 'text-center',\r\n    LEFT: 'text-left',\r\n    RIGHT: 'text-right',\r\n    JUSTIFY: 'text-justify'\r\n}\r\n\r\n\r\nexport const PADDINGS = ['0','px','0.5','1','2','3','4','5','10','20','40','60']\r\n\r\nexport const SIZES = ['auto','full','3','4','10','16','20','32','40','60','80','96','128']","\r\n<script>\r\n    import CenterIcon from \"../Icons/CenterIcon.svelte\";\r\n    import LeftIcon from \"../Icons/LeftIcon.svelte\";\r\n    import RightIcon from \"../Icons/RightIcon.svelte\";\r\n    import TriangleDown from \"../Icons/TriangleDown.svelte\";\r\n    import {createEventDispatcher} from 'svelte'\r\n    import { STYLE } from \"./const\";\r\n    const dispatch = createEventDispatcher()\r\n\r\n    $: posKlass = lNode?.getBoundingClientRect()?.bottom > window.innerHeight ? 'bottom-0 mb-8' : '' \r\n\r\n\tlet lNode\r\n\r\n    export let e_classes\r\n\r\n    let open = false\r\n\r\n    function toggleList(){\r\n        open = !open\r\n    }\r\n\r\n    function select(pos){\r\n        dispatch('select',pos)\r\n    }\r\n</script>\r\n\r\n<div class=\"relative h-full\">\r\n    <div class=\"px-2 text-gray-700 hover:bg-gray-200 cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center\"  on:mousedown={toggleList}>\r\n        {#if e_classes.center}\r\n            <CenterIcon />\r\n        {:else if e_classes.right}\r\n            <RightIcon />\r\n        {:else}\r\n            <LeftIcon />\r\n        {/if}\r\n        <TriangleDown />\r\n    </div>\r\n    \r\n    {#if open}\r\n        <div class=\"absolute shadow-xl {posKlass} bg-white\" bind:this={lNode}>\r\n            <div class=\"px-2 { e_classes.left ? 'text-blue-600':'text-gray-700'} cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center\"  on:mousedown={() => select(STYLE.LEFT)}>\r\n                <LeftIcon />\r\n            </div>\r\n            \r\n            <div class=\"px-2 { e_classes.center ? 'text-blue-600':'text-gray-700'} cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center\" on:mousedown={() => select(STYLE.CENTER)}>\r\n                <CenterIcon />\r\n            </div>\r\n            \r\n            <div class=\"px-2 { e_classes.right ? 'text-blue-600':'text-gray-700'} cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center border-r\"  on:mousedown={() => select(STYLE.RIGHT)}>\r\n                <RightIcon />\r\n            </div>\r\n        </div>\r\n    {/if}\r\n</div>","<script>\r\n    let klass = \"w-5 h-5\"\r\n    export {klass as class}\r\n</script>                    \r\n<svg viewBox=\"0 0 15 15\" xmlns='http://www.w3.org/2000/svg' class={klass}>\r\n    <g fill=\"none\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2.857 2h9.286c.473 0 .857.384.857.857v9.286a.857.857 0 0 1-.857.857H2.857A.857.857 0 0 1 2 12.143V2.857C2 2.384 2.384 2 2.857 2zM1 2.857C1 1.831 1.831 1 2.857 1h9.286C13.168 1 14 1.831 14 2.857v9.286A1.857 1.857 0 0 1 12.143 14H2.857A1.857 1.857 0 0 1 1 12.143V2.857zM7.5 5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm-3 6a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zM5 7.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM4.5 5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm6.5 5.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM10.5 8a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm.5-3.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM7.5 11a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1z\" fill=\"currentColor\"/></g>\r\n</svg> ","<script>\r\n    let klass = \"w-5 h-5\"\r\n    export {klass as class}\r\n</script>                    \r\n<svg viewBox=\"0 0 15 15\" xmlns='http://www.w3.org/2000/svg' class={klass}>\r\n    <g fill=\"none\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1.5 2a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm3 0a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zM8 1.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zm2.5.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm3.5-.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM1.5 14a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm.5-3.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM1.5 8a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zM2 4.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM13.5 11a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm.5-3.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zM13.5 5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zM5 13.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zm2.5.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zm3.5-.5a.5.5 0 1 1-1 0a.5.5 0 0 1 1 0zm2.5.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zM4 5a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5zm1 0h5v5H5V5z\" fill=\"currentColor\"/></g>\r\n</svg>    ","<script>\r\n    import PaddingIcon from \"../Icons/PaddingIcon.svelte\";\r\n    import MarginIcon from \"../Icons/MarginIcon.svelte\";\r\n    import TriangleDown from \"../Icons/TriangleDown.svelte\";\r\n    import { PADDINGS } from \"./const\";\r\n    import {createEventDispatcher} from 'svelte'\r\n    const dispatch = createEventDispatcher()\r\n\r\n\r\n    export let mp = \"p\"\r\n    export let g_classes = \"\"\r\n    export let title= \"Padding\"\r\n\r\n    $: posKlass = lNode?.getBoundingClientRect()?.bottom > window.innerHeight ? 'bottom-0 mb-8' : '' \r\n\r\n\tlet lNode\r\n\r\n    let open = false\r\n    function toggleList(){\r\n        open = !open\r\n    }\r\n\r\n    function updateP(e){\r\n        dispatch('select', e.currentTarget.value)\r\n    }\r\n\r\n    $: v = 0 // mp == 'p' ? 2 : 0\r\n    $: pt = g_classes.split(' ').find(s => s.startsWith(`${mp}t`)) || `${mp}t-${v}`\r\n    $: pr = g_classes.split(' ').find(s => s.startsWith(`${mp}r`)) || `${mp}r-${v}`\r\n    $: pb = g_classes.split(' ').find(s => s.startsWith(`${mp}b`)) || `${mp}b-${v}`\r\n    $: pl = g_classes.split(' ').find(s => s.startsWith(`${mp}l`)) || `${mp}l-${v}`\r\n\r\n</script>\r\n\r\n<div class=\"relative h-full\" {title}>\r\n    <div class=\"px-2 text-gray-700 hover:bg-gray-200 cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center\"  on:mousedown={toggleList}>\r\n        {#if mp == \"m\"}\r\n            <MarginIcon />\r\n        {:else}\r\n            <PaddingIcon />\r\n        {/if}\r\n        <TriangleDown />\r\n    </div>\r\n    {#if open}\r\n        <div class=\"absolute shadow-xl bg-white grid grid-cols-2 w-24 p-2 gap-1 text-xs font-semibold {posKlass}\" bind:this={lNode}>\r\n                Top \r\n                <select class=\"focus:outline-none border\" bind:value={pt} on:change={updateP} on:blur={updateP}>\r\n                    {#each PADDINGS as p}\r\n                        <option value=\"{mp}t-{p}\">{p}</option>\r\n                    {/each}\r\n                </select>\r\n                Right \r\n                <select class=\"focus:outline-none border\" bind:value={pr} on:change={updateP} on:blur={updateP}>\r\n                    {#each PADDINGS as p}\r\n                        <option value=\"{mp}r-{p}\">{p}</option>\r\n                    {/each}\r\n                </select>\r\n                Bottom \r\n                <select class=\"focus:outline-none border\" bind:value={pb} on:change={updateP} on:blur={updateP}>\r\n                    {#each PADDINGS as p}\r\n                        <option value=\"{mp}b-{p}\">{p}</option>\r\n                    {/each}\r\n                </select>\r\n                Left \r\n                <select class=\"focus:outline-none border\" bind:value={pl} on:change={updateP} on:blur={updateP}>\r\n                    {#each PADDINGS as p}\r\n                        <option value=\"{mp}l-{p}\">{p}</option>\r\n                    {/each}\r\n                </select>\r\n        </div>\r\n    {/if}\r\n</div>\r\n","<script>\t\t\t\t\n\timport { createEventDispatcher} from 'svelte/internal'\n\n\timport ColorPicker from './ColorPicker.svelte'\n\timport CodeIcon from '../Icons/CodeIcon.svelte'\n\t\n\timport LinkInput from './LinkInput.svelte'\n\timport JustifyIcon from '../Icons/JustifyIcon.svelte'\n\timport Leading from './Leading.svelte'\n\timport HeadingList from './HeadingList.svelte'\n\timport TextAlign from './TextAlign.svelte';\n\timport {STYLE} from './const'\n\timport Spacing from './Spacing.svelte';\n\t\n\texport let setClass\n\texport let setGClass\n\texport let classes\n\texport let g_classes\n\texport let href\n\texport let blank\n\t// export let setLink\n\texport let base_node\n\tlet dispatch = createEventDispatcher()\n\texport let mouseX\n\t\n\tfunction firstParentRelative(n){\n\t\t// Make element absolute if you want to restore this\n\t\t// while(n.parentNode && n.parentNode.tagName){\n\t\t// \tn = n.parentNode\n\t\t// \tif(window.getComputedStyle(n).getPropertyValue('position').toLowerCase() == 'relative'){\n\t\t// \t\treturn n.getBoundingClientRect()\n\t\t// \t}\n\t\t// }\n\t\t// return {top: -window.scrollY, left: 0}\n\t\treturn {top: 0, left: 0}\n\t}\n\n\tfunction setPosition(node){\n\t\tlet e = window.event;\n\t\tif(!base_node) return\n\t\t\n\t\tlet elm = base_node.parentNode.tagName == 'DIV' ? base_node : base_node.parentNode\n\t\tlet rect = elm.parentNode.getBoundingClientRect()\n\t\tlet posY = rect.top-10; \n\t\tif(elm.previousElementSibling){\n\t\t\tlet ch_nodes = [...elm.parentNode.childNodes]\n\t\t\tlet siblings = ch_nodes.slice(0,ch_nodes.indexOf(elm)+1)\n\t\t\tlet br = siblings.reverse().find(elm => elm.tagName == 'BR')\n\t\t\tif(br){\n\t\t\t\trect = br.getBoundingClientRect()\n\t\t\t\tposY = rect.top ? rect.top : posY\n\t\t\t}\n\t\t}\n\n\t\tlet rel_rect = firstParentRelative(node)\n\t\tlet pos_top = posY-rel_rect.top\n\t\tif(posY<30)\n\t\t\tpos_top = 30\n\t\tnode.style.top = `${pos_top}px`\n\t\tmouseX = mouseX || 10\n\t\tlet mx = mouseX-node.offsetWidth/2 \n\t\tmx = mx > 0 ? mx : 10\n\t\tmx = mouseX+node.offsetWidth/2 < window.innerWidth ? mx : window.innerWidth-node.offsetWidth\n\t\tnode.style.left = `${mx-rel_rect.left}px`\n\t}\n\n\tfunction close(){\n\t\tdispatch('close')\n\t}\n\n\tfunction cexist(klass){\n\t\treturn classes.includes(klass)\n\t}\n\tfunction cgexist(klass){\n\t\treturn g_classes.includes(klass)\n\t}\n\tfunction cregexist(reg){\n\t\treturn reg.test(classes)\n\t}\n\n\t\n\n\tlet e_classes = {}\n\n\tconst reg_font = /font\\-(thin|normal|semibold|bold|black)/\n\tconst reg_pad = /p\\-([0-4])/\n\n\tfunction initEClasses(){\n\t\te_classes = {\n\t\t\tbold: cregexist(reg_font),\n\t\t\tpadding: cregexist(reg_pad),\n\t\t\titalic: cexist(STYLE.ITALIC),\n\t\t\tunderline: cexist(STYLE.UNDERLINE),\n\t\t\tlinethrough: cexist(STYLE.LINETHROUGH),\n\t\t\tcode: cexist(STYLE.CODE),\n\t\t\tlink: cexist(STYLE.LINK),\n\t\t\tjustify: cgexist(STYLE.JUSTIFY),\n\t\t\tcenter: cgexist(STYLE.CENTER),\n\t\t\tleft: cgexist(STYLE.LEFT),\n\t\t\tright: cgexist(STYLE.RIGHT),\n\t\t}\n\t}\n\tinitEClasses()\n\n\tfunction toggle(klass){\n\t\tsetClass(klass)\n\t\tif(!classes.includes(klass)){\n\t\t\tclasses = classes.split(' ').concat([klass]).join(' ')\n\t\t}else{\n\t\t\tlet n_classes  = classes.split(' ')\n\t\t\tn_classes.splice(n_classes.indexOf(klass),1)\n\t\t\tclasses = n_classes.join(' ')\n\t\t}\n\t\t\n\t\tinitEClasses()\n\t}\n\n\tfunction toggleBold(){\n\t\tconst fonts = ['thin','normal','semibold','bold','black']\n\t\tlet included = false\n\t\tfor(let i=0; i< fonts.length;i++){\n\t\t\tif(classes.includes(fonts[i])){\n\t\t\t\tincluded = true\n\t\t\t\tif(i+1<fonts.length){\n\t\t\t\t\tclasses = classes.replace('font-'+fonts[i],'font-'+fonts[i+1]).trim()\n\t\t\t\t\tsetClass('font-'+fonts[i+1])\n\t\t\t\t}else{\n\t\t\t\t\tclasses = classes.replace('font-'+fonts[i],'font-'+fonts[0]).trim()\n\t\t\t\t\tsetClass('font-'+fonts[0])\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(!included){\n\t\t\tclasses = classes.split(' ').concat(['font-bold']).join(' ').trim()\n\t\t\tsetClass('font-bold')\n\t\t}\n\t\tinitEClasses()\n\t}\n\t\n\tfunction togglePadding(){\n\t\tconst ps = ['0','1','2','3','4']\n\t\tlet included = false\n\t\tfor(let i=0; i< ps.length;i++){\n\t\t\tif(classes.includes(\"p-\"+ps[i])){\n\t\t\t\tincluded = true\n\t\t\t\tif(i+1<ps.length){\n\t\t\t\t\tclasses = classes.replace('p-'+ps[i],'p-'+ps[i+1]).trim()\n\t\t\t\t\tsetClass('p-'+ps[i+1])\n\t\t\t\t}else{\n\t\t\t\t\tclasses = classes.replace('p-'+ps[i],'p-'+ps[0]).trim()\n\t\t\t\t\tsetClass('p-'+ps[0])\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(!included){\n\t\t\tclasses = classes.split(' ').concat(['p-1']).join(' ').trim()\n\t\t\tsetClass('p-1')\n\t\t}\n\t\tinitEClasses()\n\t}\n\t\n\t\n\t// duplicated in contenteditor (TO UPDATE!)\n\tfunction replaceGClass(klass, reg, gklass){\n\t\tlet classes = gklass.split(' ')\n\t\tlet s_index = classes.findIndex(c => reg.test(c))\n\t\tlet selected_class = ~s_index ? classes[s_index] : ''\n\t\tif(selected_class){\n\t\t\tgklass = gklass.replace(selected_class,'').trim()\n\t\t}\n\t\tgklass = gklass.split(' ').concat([klass]).join(' ')\n\t\treturn gklass\n\t}\n\n\t// duplicated!! \n\tconst reg_position = /^text\\-(left|right|center)/\n\tconst reg_padding = /^p[lrtb]\\-/\n\tconst reg_margin = /^m[lrtb]\\-/\n\n\n\tfunction toggleG(klass){\n\t\tsetGClass(klass)\n\t\tif(reg_position.test(klass)){\n\t\t\tg_classes = replaceGClass(klass,reg_position,g_classes)\n\n\t\t}else if(reg_padding.test(klass)){\n\t\t\tlet reg_padd = new RegExp(`^p${klass[1]}`)\n\t\t\tg_classes = replaceGClass(klass,reg_padd,g_classes)\n\n\t\t}else if(reg_margin.test(klass)){\n\t\t\tlet reg_mar = new RegExp(`^m${klass[1]}`)\n\t\t\tg_classes = replaceGClass(klass,reg_mar,g_classes)\n\n\t\t}else if(!g_classes.includes(klass)){\n\t\t\tg_classes = g_classes.split(' ').concat([klass]).join(' ')\n\t\t}else{\n\t\t\tlet n_classes  = g_classes.split(' ')\n\t\t\tn_classes.splice(n_classes.indexOf(klass),1)\n\t\t\tg_classes = n_classes.join(' ')\n\t\t}\n\t\t\n\t\tinitEClasses()\n\t}\n\t\n</script>\n\n<div use:setPosition on:mousedown|stopPropagation class=\"flex fixed font-normal -mt-6 shadow bg-white z-50 z-950 text-base rounded\">\t\n\t<div class=\"rounded flex items-center shadow-lg border border-gray-200  text-gray-700\">\n\t\t\t<div class=\"border-r\">\n\t\t\t\t<HeadingList setClass={setGClass} klass={g_classes} />\t\n\t\t\t</div>\n\t\t\t<div class=\"px-2 cursor-pointer select-none { e_classes.bold ? 'text-blue-600':''} font-medium hover:bg-gray-200 py-1\" on:mousedown={toggleBold}>\n\t\t\t\tB\n\t\t\t</div>\n\t\t\t<div class=\"px-3 cursor-pointer select-none { e_classes.italic ? 'text-blue-600':''} italic hover:bg-gray-200 py-1\" on:mousedown={() => toggle(STYLE.ITALIC)}>\n\t\t\t\ti\n\t\t\t</div>\n\t\t\t<div class=\"px-2 cursor-pointer select-none { e_classes.underline ? 'text-blue-600':''} underline hover:bg-gray-200 py-1\" on:mousedown={() => toggle(STYLE.UNDERLINE)}>\n\t\t\t\tU\n\t\t\t</div>\n\t\t\t<div class=\"px-2 cursor-pointer select-none { e_classes.linethrough ? 'text-blue-600':''} line-through hover:bg-gray-200 py-1\" on:mousedown={() => toggle(STYLE.LINETHROUGH)}>\n\t\t\t\tS\n\t\t\t</div>\n\t\t\t<div class=\"px-2 cursor-pointer select-none { e_classes.padding ? 'text-blue-600':''} font-medium hover:bg-gray-200 py-1\" on:mousedown={togglePadding}>\n\t\t\t\tP\n\t\t\t</div>\n\t\t\t<div class=\"px-2 cursor-pointer select-none { e_classes.code ? 'text-blue-600':''} line-through hover:bg-gray-200 py-2\" on:mousedown={() => toggle(STYLE.CODE)}>\n\t\t\t\t<CodeIcon />\n\t\t\t</div>\n\t\t\t<div class=\"{ e_classes.link ? 'text-blue-600':''} cursor-pointer select-none hover:bg-gray-200 text-sm border-r\">\n\t\t\t\t<LinkInput setLink={setClass} on:close={close} {href} {blank} />\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"pl-1 cursor-pointer select-none hover:bg-gray-200 py-1 \">\n\t\t\t\t<ColorPicker {setClass} klass={classes} />\n\t\t\t</div>\n\t\t\t<div class=\"px-1 cursor-pointer select-none hover:bg-gray-200 border-r h-full flex items-center\">\n\t\t\t\t<ColorPicker txt=\"bg\" {setClass} klass={classes} />\n\t\t\t</div>\n\t\t\n\t\t\t<div class=\"px-2 { e_classes.justify ? 'text-blue-600':'text-gray-700'} cursor-pointer select-none hover:bg-gray-200 py-1 h-full flex items-center\" on:mousedown={() => toggleG(STYLE.JUSTIFY)}>\n\t\t\t\t<JustifyIcon />\n\t\t\t</div>\n\t\t\t\n\t\t\t<TextAlign {e_classes} on:select={(evt) => toggleG(evt.detail)} />\n\t\t\t\n\t\t\t<!-- <div class=\"border-l h-full\">\n\t\t\t\t<Spacing mp=\"p\" title=\"Padding\" {g_classes} on:select={(evt) => toggleG(evt.detail)} />\n\t\t\t</div> -->\n\n\t\t\t<div class=\"h-full\">\n\t\t\t\t<Spacing mp=\"m\" title=\"Margin\" {g_classes} on:select={(evt) => toggleG(evt.detail)} />\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"cursor-pointer select-none hover:bg-gray-200 h-full flex items-center border-l\">\n\t\t\t\t<Leading setClass={setGClass} klass={g_classes} />\n\t\t\t</div>\n\t\t\t\n\t\t\t\n\t</div>\n</div>\n\n\n","<script>\n    export let selected = false\n</script>                    \n<svg viewBox=\"0 0 24 24\" xmlns='http://www.w3.org/2000/svg' class=\"p-1 w-8 h-8 shrink-0 {selected ? 'bg-blue-200':''} cursor-pointer\" \non:click>\n    <path fill=\"currentColor\" d=\"M9 7h6v6H9V7M3 3h18v2H3V3m0 12h18v2H3v-2m0 4h14v2H3v-2Z\"/>\n</svg>","<script>\n    export let selected = false\n</script>                    \n<svg viewBox=\"0 0 24 24\" xmlns='http://www.w3.org/2000/svg' class=\"w-8 shrink-0 h-8 p-1 {selected ? 'bg-blue-200':''} cursor-pointer\" on:click>\n    <path fill=\"currentColor\" d=\"M3 7h6v6H3V7m0-4h18v2H3V3m18 4v2H11V7h10m0 4v2H11v-2h10M3 15h14v2H3v-2m0 4h18v2H3v-2Z\"/>\n</svg>","<script>\n    export let selected = false\n</script>                    \n<svg viewBox=\"0 0 24 24\" xmlns='http://www.w3.org/2000/svg' class=\"w-8 h-8 shrink-0 p-1 {selected ? 'bg-blue-200':''} cursor-pointer\" on:click>\n    <path fill=\"currentColor\" d=\"M15 7h6v6h-6V7M3 3h18v2H3V3m10 4v2H3V7h10m-4 4v2H3v-2h6m-6 4h14v2H3v-2m0 4h18v2H3v-2Z\"/>\n</svg>\n\n","<script>\n    import FloatCenter from \"../Icons/FloatCenter.svelte\";\n    import FloatLeft from \"../Icons/FloatLeft.svelte\";\n    import FloatRight from \"../Icons/FloatRight.svelte\";\n    import Util from \"../lib/Util\";\n    import { SIZES } from \"./const\";\n    import Spacing from \"./Spacing.svelte\";\n\n    export let alt;\n    export let src;\n    export let opts;\n    export let klass = \"\";\n    export let setMedia;\n    export let delMedia;\n    export let cancel;\n    export let media_type;\n\n    let wmatch = klass.match(/w-\\d+/)\n    let hmatch = klass.match(/h-\\d+/)\n    let mwidth = wmatch?.[0] ?? \"w-auto\"\n    let mheight = hmatch?.[0] ?? \"h-auto\"\n    let selectedAlign = klass.includes(\"justify-end\") ? \"right\" : klass.includes(\"flex justify-center\") ? \"center\" : klass.includes(\"flex\") ? \"left\" : \"\"\n\n    let posClass = selectedAlign === \"left\" ? \"flex items-start\" : selectedAlign === \"right\" ? \"flex justify-end items-start\" : selectedAlign === \"center\" ? \"flex justify-center items-start\" : \"\"\n\n    \n    let marginClass = klass.replace(/(flex.+start|w-[\\w\\.]+)/g,\"\")\n\n    function setClass() {\n        klass = `${posClass} ${mheight} ${mwidth} ${marginClass}`\n        addMedia(true)\n    }\n\n    function setMargin(c) {\n        const reg = new RegExp(c.split(\"-\")[0]+\"-\\\\w+\")\n        marginClass = marginClass.replace(reg,\"\")\n        marginClass += \" \"+c\n        setClass()\n    }\n\n    function setFLeft() {\n        // if it's already left - remove\n        if(selectedAlign === \"left\") {\n            selectedAlign = \"\"\n            posClass = \"\"\n        } else {\n            posClass = \"flex items-start\"\n            selectedAlign = \"left\"\n        }\n        setClass()\n    }\n\n    function setFCenter() {\n        if(selectedAlign === \"center\") {\n            selectedAlign = \"\"\n            posClass = \"\"\n        } else {\n            posClass = \"flex justify-center items-start\"\n            selectedAlign = \"center\"\n        }\n        setClass()\n    }\n\n    function setFRight() {\n        if(selectedAlign === \"right\") {\n            selectedAlign = \"\"\n            posClass = \"\"\n        } else {\n            posClass = \"flex justify-end items-start\"\n            selectedAlign = \"right\"\n        }\n        setClass()\n    }\n\n    async function addMedia(update = false) {\n        let is_img = await Util.testImgUrl(src.trim());\n        let is_video = Util.testVideoUrl(src.trim());\n        let iframe_vid =\n            Util.parseYouTube(src.trim()) || Util.parseVimeo(src.trim());\n        if (is_img || is_video || iframe_vid) {\n            setMedia({\n                src: iframe_vid || src,\n                klass,\n                alt,\n                opts,\n                media_type: is_img\n                    ? \"IMG\"\n                    : is_video\n                    ? \"VIDEO\"\n                    : iframe_vid\n                    ? \"IFRAME\"\n                    : \"AUDIO\",\n            }, update);\n        }\n    }\n\n    function cancelMedia() {\n        cancel();\n    }\n\n    export let mouseX;\n\n    function firstParentRelative(n) {\n        while (n.parentNode && n.parentNode.tagName) {\n            n = n.parentNode;\n            if (\n                window\n                    .getComputedStyle(n)\n                    .getPropertyValue(\"position\")\n                    .toLowerCase() == \"relative\"\n            ) {\n                return n.getBoundingClientRect();\n            }\n        }\n        return { top: -window.scrollY, left: 0 };\n    }\n\n    export let base_node;\n    function setPosition(node) {\n        let e = window.event;\n        if (!base_node) return;\n\n        let elm =\n            base_node.parentNode.tagName == \"DIV\"\n                ? base_node\n                : base_node.parentNode;\n        let rect = elm.parentNode.getBoundingClientRect();\n        let posY = rect.top;\n        if (elm.previousElementSibling) {\n            let ch_nodes = [...elm.parentNode.childNodes];\n            let siblings = ch_nodes.slice(0, ch_nodes.indexOf(elm) + 1);\n            let br = siblings.reverse().find((elm) => elm.tagName == \"BR\");\n            if (br) {\n                rect = br.getBoundingClientRect();\n                posY = rect.top ? rect.top : posY;\n            }\n        }\n        // node.style.top = `${posY+window.scrollY}px`\n        let rel_rect = firstParentRelative(node);\n        let pos_top = posY - rel_rect.top;\n        if (posY < 30) pos_top = 30;\n        node.style.top = `${pos_top}px`;\n        mouseX = mouseX || 10;\n        let mx = mouseX - node.offsetWidth / 2;\n        mx = mx > 0 ? mx : 10;\n        mx =\n            mouseX + node.offsetWidth / 2 < window.innerWidth\n                ? mx\n                : window.innerWidth - node.offsetWidth;\n        node.style.left = `${mx - rel_rect.left}px`;\n    }\n</script>\n\n<div\n    on:mousedown|stopPropagation\n    use:setPosition\n    class=\"absolute -mt-6 p-3 shadow-xl flex flex-col rounded text-black bg-white z-940 z-40\"\n>\n    {#if src}\n        <input\n            type=\"text\"\n            bind:value={src}\n            placeholder=\"Image src\"\n            class=\"bg-gray-100 text-sm font-mono mb-2 border p-1 w-64 rounded-sm outline-none shadow-inner\"\n        />\n    {/if}\n    {#if media_type == \"IMG\"}\n        <input\n            type=\"text\"\n            bind:value={alt}\n            placeholder=\"Image alt\"\n            class=\"bg-gray-100 text-sm font-mono mb-2 border p-1 w-64 rounded-sm outline-none shadow-inner\"\n        />\n    {/if}\n\n    <div class=\"my-2 flex justify-between items-center\">\n        <div class=\"flex shrink-0\">\n            <FloatLeft on:click={setFLeft} selected={selectedAlign===\"left\"} />\n            <FloatCenter on:click={setFCenter} selected={selectedAlign===\"center\"} />\n            <FloatRight on:click={setFRight} selected={selectedAlign===\"right\"} />\n            <div class=\"h-full\">\n\t\t\t\t<Spacing mp=\"m\" title=\"Margin\" g_classes={klass} on:select={(evt) => setMargin(evt.detail)} />\n\t\t\t</div>\n        </div>\n        <div>\n            <div class=\"flex items-center space-x-1 text-xs\">\n                <div class=\"w-10\">Width:</div>\n                <select\n                    class=\"focus:outline-none border\"\n                    bind:value={mwidth}\n                    on:change={setClass}\n                    on:blur={setClass}\n                >\n                    {#each SIZES as w}\n                        <option value=\"w-{w}\">{w}</option>\n                    {/each}\n                </select>\n            </div>\n            <div class=\"flex items-center space-x-1 mt-1 text-xs\">\n                <div class=\"w-10\">Height:</div>\n                <select\n                    class=\"focus:outline-none border\"\n                    bind:value={mheight}\n                    on:change={setClass}\n                    on:blur={setClass}\n                >\n                    {#each SIZES as h}\n                        <option value=\"h-{h}\">{h}</option>\n                    {/each}\n                </select>\n            </div>\n            \n        </div>\n\n    </div>\n\n    <!-- <input\n        type=\"text\"\n        bind:value={klass}\n        placeholder=\"Custom Class\"\n        class=\"bg-gray-100 text-sm font-mono border p-1 w-64 rounded-sm outline-none shadow-inner\"\n    /> -->\n\n    {#if media_type == \"VIDEO\"}\n        <div class=\"text-xs my-2\">\n            <label class=\"flex items-center\">\n                <input\n                    class=\"mr-2\"\n                    type=\"checkbox\"\n                    bind:checked={opts.autoplay}\n                />\n                Autoplay\n            </label>\n            <label class=\"flex items-center\">\n                <input class=\"mr-2\" type=\"checkbox\" bind:checked={opts.muted} />\n                Muted\n            </label>\n            <label class=\"flex items-center\">\n                <input class=\"mr-2\" type=\"checkbox\" bind:checked={opts.loop} />\n                Loop\n            </label>\n            <label class=\"flex items-center\">\n                <input\n                    class=\"mr-2\"\n                    type=\"checkbox\"\n                    bind:checked={opts.controls}\n                />\n                Controls\n            </label>\n        </div>\n    {/if}\n\n    <div class=\"flex items-center justify-end mt-2\">\n        <button\n            class=\"hover:bg-gray-300 px-3 rounded-sm outline-none text-xs py-1\"\n            on:click={cancelMedia}\n        >\n            Cancel\n        </button>\n        <button\n            class=\"hover:bg-red-700 px-3 rounded-sm outline-none mx-2 bg-red-600 text-red-100 text-xs py-1\"\n            on:click={delMedia}\n        >\n            Delete\n        </button>\n        <button\n            class=\"ml-2 hover:bg-blue-700 bg-blue-600 text-blue-100 px-3 rounded-sm outline-none text-xs py-1\"\n            on:click={() => addMedia()}\n        >\n            Update\n        </button>\n    </div>\n</div>\n","function cln(c){\r\n    return JSON.parse(JSON.stringify(c))\r\n}\r\n\r\nexport default {\r\n    arr: [],\r\n    i: -1,\r\n    add(c){\r\n        this.arr[++this.i] = cln(c)\r\n        // if(this.i >= this.arr.length-1 && this.arr.length){\r\n        //     this.arr.splice(this.i-1, this.arr.length-this.i-1)\r\n        // }\r\n    },\r\n    // update current when inserting texts\r\n    update(c){\r\n        this.arr[this.i] = cln(c)\r\n    },\r\n    prev(){\r\n        if(this.i == 0) return cln(this.arr[0])\r\n        return cln(this.arr[--this.i])\r\n    },\r\n    next(){\r\n        if(this.i >= this.arr.length-1) return cln(this.arr[this.arr.length-1])\r\n        return cln(this.arr[++this.i])\r\n    },\r\n}","<script>\n  import ContentEditor from \"./ContentEditor.svelte\";\n  import ToolBar from \"../ToolBar/ToolBar.svelte\";\n  import MediaInput from \"../ToolBar/MediaInput.svelte\";\n  import EditorHistory from \"../lib/EditorHistory\";\n  import {createEventDispatcher} from 'svelte'\n  // import \"../global.css\"\n  const dispatch = createEventDispatcher()\n\n  export let arr_html = [{ html: ``, klass: \"p-2\" }];\n  export let editable = false\n  export let html = \"\";\n  export let uid = null;\n\n  $: html = arr_html\n    .map(h => `<div class='${h.klass}'>${h.html}</div>`)\n    .join(\"\\n\");\n  \n  EditorHistory.add(arr_html)\n\n  async function addNewElm(i, evt) {\n    // split\n    // get element index\n    let target = evt.detail.target\n    let pchildren = [...target.parentNode.children]\n    let index = pchildren.indexOf(target)\n    arr_html.splice(\n      i,\n      1,\n      { html: evt.detail.html, klass: evt.detail.klass, custom: arr_html[i].custom },\n      { html: evt.detail.next_html, klass: '' } //evt.detail.klass\n    );\n    // auto focus\n    arr_html = arr_html;\n\t  await new Promise(r => setTimeout(r));\n\t  \n\t  let div_editors = [...target.parentNode.children] //GET children again after timeout refresh!\n    // next element\n   \n    let j= 1;\n    while(div_editors[index + j] && !div_editors[index + j].getAttribute('contenteditable')){\n      j++\n    }\n    div_editors[index + j]?.focus();\n    historyChange()\n  }\n  \n  function historyChange(){\n    setTimeout(() => {\n      EditorHistory.add(arr_html)\n    });\n    disaptchChange()\n  }\n\n  let list_editors;\n  function setListEditors(node) {\n    list_editors = node;\n  }\n\n  let show_toolbar = false;\n\n  let setClass;\n  let setGClass;\n  let base_node;\n  let classes;\n  let g_classes;\n  let href;\n  let blank;\n  let mouseX;\n\n  function showToolBar(evt) {\n    base_node = evt.detail.base_node;\n    if (!base_node || base_node.tagName == \"DIV\") return;\n    show_toolbar = true;\n    setClass = evt.detail.setClass;\n    setGClass = evt.detail.setGClass;\n    classes = evt.detail.classes;\n    g_classes = evt.detail.g_classes;\n    href = evt.detail.href;\n    blank = evt.detail.blank;\n    mouseX = evt.detail.mouseX;\n  }\n\n  function hideSelect() {\n    show_toolbar = false;\n  }\n\n  function mergePrev(evt, i) {\n    if (i > 0 && !arr_html[i-1].custom) {\n      arr_html[i - 1].html += evt.detail;\n      arr_html.splice(i, 1);\n      arr_html[i - 1].custom = false\n      arr_html = arr_html;\n    }\n    historyChange()\n  }\n  \n  function mergeNext(evt, i) {\n    if (i+1 < arr_html.length && !arr_html[i+1].custom) {\n      arr_html[i].html += arr_html[i+1].html;\n      arr_html.splice(i+1, 1);\n      arr_html[i].custom = false\n      arr_html = arr_html;\n    }\n    historyChange()\n  }\n\n  \n\n  let setMedia \n  let delMedia \n  let show_media = false\n  let img_props = {}\n  function setMediaInfo(evt){\n\t  setMedia = evt.detail.setMedia\n\t  delMedia = evt.detail.delMedia\n\t  base_node = evt.detail.base_node\n\t  img_props = {\n\t\t  alt: evt.detail.alt||'',\n\t\t  src: evt.detail.src||'',\n      opts: evt.detail.opts || {},\n\t\t  klass: evt.detail.klass||'',\n      media_type: evt.detail.media_type\n\t  }\n    mouseX = evt.detail.mouseX\n\t  // show toolbar setmedia\n    setMedia(img_props)\t\n\t  show_media = true\n  }\n\n  function addMedia(img, update=false){\n    setMedia(img)\n    if(!update)\n\t    show_media = false\n    disaptchChange()\n  }\n\n  function rmMedia(){\n\t  delMedia()\n\t  show_media = false\n    disaptchChange()\n  }\n\n  function getParentEditor(target){\n    while(!target.dataset.editor && target.parentNode && target.parentNode.tagName){\n      target = target.parentNode\n    }\n    // if target found\n    if(target.dataset.editor){\n      return target\n    }\n      \n    return false\n  }\n\n  function triggerChange(e){\n    show_media = false\n    // trigger change if click is not on the current editor\n    let pEditor = getParentEditor(e.target)\n    if(!pEditor || pEditor.dataset.uid !== uid){\n      triggerUpdate()\n      hideSelect()\n    }\n  }\n\n  let updated = false\n\n  function contentUpdated(evt){\n    if(evt?.detail?.currentTarget) {\n      if(!evt.detail.currentTarget.innerText){\n        // add history for first character\n        EditorHistory.add(arr_html)\n      }else{\n        // update current history\n        EditorHistory.update(arr_html)\n      }\n    }\n    updated = true\n  }\n  \n  function triggerUpdate(){\n    if(updated && !show_toolbar){\n        disaptchChange()\n        EditorHistory.add(arr_html)\n        updated = false\n    }\n  }\n    \n  function triggerUpdateClass(){\n    historyChange()\n  }\n  \n  function disaptchChange(){\n    setTimeout(() => {\n      dispatch('change', {uid, arr_html})\n    });\n  }\n  \n  function prevHistory(){\n    arr_html = EditorHistory.prev()\n  }\n  \n  function nextHistory(){\n    arr_html = EditorHistory.next()\n  }\n\n  const SIMPLE_ELMS =  ['SPAN','EM','STRONG','SMALL','H1','H2','H3','H4','H5','H6','P'] // [TODO] finish this list! \n\n  async function pasteTxt(i, evt){\n    await new Promise(r => setTimeout(r))\n\n    let chs = evt.detail.children\n    if(chs){\n      let arr_h = []\n      for(let ch of [...chs] ){\n        if(ch.dataset?.uid?.startsWith(\"0x\")){\n          ch = ch.children[0]\n          for(let child of [...ch.children]){\n            arr_h.push({html: child.innerHTML, klass: child?.getAttribute('class')||''})\n          }\n        }else if(ch.dataset.txteditor){\n            arr_h.push({html: ch.innerHTML, klass: ch.getAttribute('class')})\n        }else{\n        \n            if(!ch.children.length){\n              arr_h.push({html: ch.innerText, klass: \"\"})\n            }\n        }\n      }\n      if(arr_h.length){\n        if(i < arr_html.length){\n          arr_html = arr_html.slice(0,i).concat(arr_h).concat(arr_html.slice(i+1,arr_html.length))\n        }else{\n          arr_html = arr_html.slice(0,i).concat(arr_h)\n        }\n\n      }else{\n        // wrap into a div or do nothing!\n        if(chs.length ){\n          arr_html[i].custom = true\n        }\n        \n        if(SIMPLE_ELMS.includes(chs?.[0]?.tagName)){\n          // wrap it in a div\n          arr_html[i].html = `<div>${chs[0].innerHTML}</div>`\n        }\n      \n        arr_html = arr_html\n\n      }\n      historyChange()\n    }\n  }\n\n</script>\n\n<svelte:window  on:mousedown={triggerChange} />\n\n{#if show_toolbar && editable}\n  <ToolBar\n    {setGClass}\n    {setClass}\n    {base_node}\n    {g_classes}\n    {classes}\n    {href}\n    {blank}\n    {mouseX}\n    on:close={hideSelect} />\n{/if}\n\n{#if show_media && editable}\n\t<MediaInput setMedia={addMedia} delMedia={rmMedia} cancel={() => show_media= false} {base_node} {...img_props} {mouseX} />\n{/if}\n\n<div use:setListEditors key=\"ed\">\n  {#each arr_html as h, i}\n    <ContentEditor\n      on:back={prevHistory}\n      on:forward={nextHistory}\n      editable={editable}\n      custom={!!h.custom}\n      bind:html={h.html}\n      bind:gklass={h.klass}\n      on:enter={evt => addNewElm(i, evt)}\n      on:merge_prev={evt => mergePrev(evt, i)}\n      on:merge_next={evt => mergeNext(evt, i)}\n      on:select={showToolBar}\n      on:hideselect={hideSelect}\n\t    on:set_media={setMediaInfo}\n      on:input={contentUpdated}\n      on:changeClass={triggerUpdateClass}\n      on:blur={triggerUpdate}\n      on:update={triggerUpdate}\n      on:pasteTxt={evt => pasteTxt(i,evt)}\n\t   />\n  {/each}\n</div>\n","<script>\r\n  import { createEventDispatcher } from \"svelte\";\r\n  import inputs from \"./Common/inputs\";\r\n\r\n  const dispatch = createEventDispatcher();\r\n  let basicInputs = inputs().slice(0, 13);\r\n  function select(input) {\r\n    dispatch(\"select\", input);\r\n  }\r\n</script>\r\n\r\n<div class=\"flex flex-row justify-center relative\">\r\n  <div class=\"font-semibold text-gray-800 capitalize p-2 mb-4 text-2xl \">\r\n    choose input\r\n  </div>\r\n</div>\r\n<div class=\"mt-4 overflow-auto h-3/4 \">\r\n  <div class=\"grid grid-cols-3 \">\r\n    {#each basicInputs as input}\r\n      <div\r\n        class=\"flex flex-row items-center py-2 px-3 sm:px-4 mb-4 mx-2 shadow rounded text-sm sm:text-basic text-gray-700 hover:text-indigo-700 border border-transaparent hover:border-indigo-700 cursor-pointer\"\r\n        on:click={() => select(input)}\r\n      >\r\n        <i class=\"fa-light fa-{input?.props?.icon}\" />\r\n        <div class=\"ml-2\">\r\n          {input.label}\r\n        </div>\r\n      </div>\r\n    {/each}\r\n  </div>\r\n</div>\r\n","export let required;\nexport default () => [\n  {\n    label: \"Text\",\n    type: \"Text\", // need to be the same component name\n    value: \"\",\n    props: {\n      icon: \"text-size\",\n      arr_html: [\n        { html: \"Text\", klass: \"md:text-xl text-lg leading-loose\" },\n      ],\n      help_html: [\n        { html: \"Help text\", klass: \"md:text-sm text-sm leading-loose\" },\n      ],\n      fields: {\n        placeholder: \"\",\n        validation: {\n          required: required,\n        },\n      },\n    },\n  },\n  {\n    label: \"Paragraph\",\n    type: \"Textarea\",\n    value: \"\",\n    props: {\n      icon: \"align-left\",\n      arr_html: [\n        { html: \"Paragraph\", klass: \"md:text-xl text-lg leading-loose\" },\n      ],\n      help_html: [\n        { html: \"Help text\", klass: \"md:text-sm text-sm leading-loose\" },\n      ],\n      fields: {\n        placeholder: \"\",\n        rows: \"5\",\n        validation: {\n          required: required,\n        },\n      },\n    },\n  },\n  {\n    label: \"Number\",\n    type: \"Number\",\n    value: \"\",\n    props: {\n      icon: \"input-numeric\",\n      arr_html: [\n        { html: \"Number\", klass: \"md:text-xl text-lg leading-loose\" },\n      ],\n      help_html: [\n        { html: \"Help text\", klass: \"md:text-sm text-sm leading-loose\" },\n      ],\n      fields: {\n        placeholder: \"\",\n        validation: {\n          required: required,\n        },\n      },\n    },\n  },\n  {\n    label: \"Email\",\n    type: \"Email\",\n    value: \"\",\n    props: {\n      icon: \"envelope\",\n      arr_html: [\n        { html: \"Email\", klass: \"md:text-xl text-lg leading-loose\" },\n      ],\n      help_html: [\n        { html: \"Help text\", klass: \"md:text-sm text-sm leading-loose\" },\n      ],\n      fields: {\n        placeholder: \"\",\n        validation: {\n          required: required,\n        },\n      },\n    },\n  },\n  {\n    label: \"Password\",\n    value: \"\",\n    type: \"Password\",\n    props: {\n      icon: \"key\",\n      arr_html: [\n        { html: \"Password\", klass: \"md:text-xl text-lg leading-loose\" },\n      ],\n      help_html: [\n        { html: \"Help text\", klass: \"md:text-sm text-sm leading-loose\" },\n      ],\n      fields: {\n        placeholder: \"\",\n        validation: {\n          required: required,\n        },\n      },\n    },\n  },\n  {\n    label: \"Date\",\n    type: \"Date\",\n    value: \"\",\n    props: {\n      icon: \"calendar-days\",\n      arr_html: [\n        { html: \"Date\", klass: \"md:text-xl text-lg leading-loose\" },\n      ],\n      help_html: [\n        { html: \"Help text\", klass: \"md:text-sm text-sm leading-loose\" },\n      ],\n      fields: {\n        placeholder: \"\",\n        validation: {\n          required: required,\n        },\n      },\n    },\n  },\n  {\n    label: \"Time\",\n    type: \"Time\",\n    value: \"\",\n    props: {\n      icon: \"clock\",\n      arr_html: [\n        { html: \"Time\", klass: \"md:text-xl text-lg leading-loose\" },\n      ],\n      help_html: [\n        { html: \"Help text\", klass: \"md:text-sm text-sm leading-loose\" },\n      ],\n      fields: {\n        placeholder: \"\",\n        validation: {\n          required: required,\n        },\n      },\n    },\n  },\n  {\n    label: \"DateTime\",\n    type: \"DateTime\",\n    value: \"\",\n    props: {\n      icon: \"calendar-clock\",\n      arr_html: [\n        { html: \"DateTime\", klass: \"md:text-xl text-lg leading-loose\" },\n      ],\n      help_html: [\n        { html: \"Help text\", klass: \"md:text-sm text-sm leading-loose\" },\n      ],\n      fields: {\n        validation: {\n          required: required,\n        },\n      },\n    },\n  },\n  {\n    label: \"Select\",\n    type: \"Select\",\n    value: \"\",\n    props: {\n      icon: \"square-caret-down\",\n      arr_html: [\n        { html: \"Select\", klass: \"md:text-xl text-lg leading-loose\" },\n      ],\n      help_html: [\n        { html: \"Help text\", klass: \"md:text-sm text-sm leading-loose\" },\n      ],\n\n      fields: {\n        store: [\n          { option: \"\" },\n        ],\n        validation: {\n          required: required,\n        },\n      },\n    },\n  },\n  {\n    label: \"Multi-choice\",\n    type: \"Multichoice\",\n    value: \"\",\n    props: {\n      icon: \"caret-down\",\n      arr_html: [\n        {\n          html: \"Multichoice\",\n          klass: \"md:text-xl text-lg leading-loose\",\n        },\n      ],\n      help_html: [\n        { html: \"Help text\", klass: \"md:text-sm text-sm leading-loose\" },\n      ],\n      fields: {\n        store: [\n          { option: \"\" },\n        ],\n        validation: {\n          required: required,\n        },\n      },\n    },\n  },\n  {\n    label: \"Radio\",\n    type: \"Radio\",\n    value: \"\",\n    props: {\n      icon: \"circle-dot\",\n      arr_html: [\n        { html: \"Radio\", klass: \"md:text-xl text-lg leading-loose\" },\n      ],\n      help_html: [\n        { html: \"Help text\", klass: \"md:text-sm text-sm leading-loose\" },\n      ],\n      fields: {\n        store:[\n          { option: \"\" },\n        ],\n        validation: {\n          required: required,\n        },\n      },\n    },\n  },\n  {\n    label: \"CheckBox\",\n    type: \"Checkbox\",\n    value: \"\",\n    props: {\n      icon: \"square-check\",\n      arr_html: [\n        { html: \"Checkbox\", klass: \"md:text-xl text-lg leading-loose\" },\n      ],\n      help_html: [\n        { html: \"Help text\", klass: \"md:text-sm text-sm leading-loose\" },\n      ],\n      fields: {\n        store: [\n          { option: \"\" },\n        ],\n        validation: {\n          required: required,\n        },\n      },\n    },\n  },\n];\n","/** Dispatch event on click outside of node */\nexport function clickOutside(node) {\n  \n  const handleClick = event => {\n    const dname = event?.path?.[0]?.dataset.name || event?.path?.[1]?.dataset.name\n    if(dname === \"showMenu\") return\n    if (node && !node.contains(event.target) && !event.defaultPrevented) {\n      node.dispatchEvent(\n        new CustomEvent('click_outside', node)\n      )\n    }\n  }\n\n\tdocument.addEventListener('click', handleClick, true);\n  \n  return {\n    destroy() {\n      document.removeEventListener('click', handleClick, true);\n    }\n\t}\n}","<script>\n  import { createEventDispatcher } from \"svelte\";\n  import { clickOutside } from \"../utils/clickOutside\";\n  export let show = false;\n\n  const dispatch = createEventDispatcher();\n  function close() {\n    show = false;\n    dispatch(\"close\");\n  }\n</script>\n\n<div>\n  {#if show}\n    <main\n      class=\"fixed md:p-6 p-4 top-0 left-0 w-screen text-gray-800 h-screen bg-black \n            bg-opacity-50 flex items-center justify-center z-50 \"\n    >\n      <div\n        class=\"relative p-5 rounded-lg shadow bg-white max-w-2xl max-h-fit w-full \"\n        use:clickOutside\n        on:click_outside={close}\n      >\n        <div\n          class=\"absolute top-0 right-0 m-5 cursor-pointer\"\n          on:click|stopPropagation={close}\n        >\n          <i class=\"fa-light fa-xmark text-xl\" />\n        </div>\n\n        <div class=\"mt-4 pb-5 min-h-fit\">\n          <slot />\n        </div>\n      </div>\n    </main>\n  {/if}\n</div>\n","<script>\n  import { createEventDispatcher } from \"svelte\";\n  import ListInputs from \"./ListInputs.svelte\";\n  import Modal from \"./Modal.svelte\";\n  const dispatch = createEventDispatcher();\n  export let show = true;\n  function saveInput(evt) {\n    show = false;\n    dispatch(\"complete\", evt.detail);\n  }\n</script>\n\n<Modal bind:show>\n  <ListInputs on:select={saveInput} />\n</Modal>\n","<script>\r\n  export let value;\r\n  export let editable;\r\n  export let name = \"1\";\r\n  export let store;\r\n  // export let theme;\r\n  let itemsNode;\r\n\r\n  function addOption(e, i = -1) {\r\n    let l = i == -1 ? store.length - 1 : i;\r\n    if (e.key === \"Enter\") {\r\n      l = l + 1;\r\n      store.splice(l, 0, {\r\n        option: \"\",\r\n      });\r\n      store = store;\r\n      setTimeout(() => {\r\n        const item = [...itemsNode.children][l];\r\n        item?.children[1]?.focus();\r\n      });\r\n    }\r\n  }\r\n\r\n  function rmOption(e, i) {\r\n    if (e.key === \"Backspace\" && e.currentTarget.value === \"\") {\r\n      let l = i - 1;\r\n      remove(i);\r\n      setTimeout(() => {\r\n        const item = [...itemsNode.children][l];\r\n        item?.children[1]?.focus();\r\n      });\r\n    }\r\n  }\r\n\r\n  function remove(i) {\r\n    store.splice(i, 1);\r\n    store = store;\r\n  }\r\n</script>\r\n\r\n<div class=\"space-y-2\">\r\n  {#if editable}\r\n    <div bind:this={itemsNode} class=\"flex flex-col space-y-2 max-w-[350px]\">\r\n      {#each store as opt, i}\r\n        <div class=\"flex items-center space-x-3 w-full my-1\">\r\n          <input\r\n            class=\"w-4 h-4 border-tertiary form-radio text-blue-700\"\r\n            {name}\r\n            type=\"radio\"\r\n            bind:group={value}\r\n            value={opt}\r\n          />\r\n          <!-- svelte-ignore a11y-autofocus -->\r\n          <input\r\n            type=\"text\"\r\n            class=\"focus:outline-none bg-transparent border-0 rounded flex-auto\"\r\n            placeholder=\"Type Option\"\r\n            on:keyup={(e) => addOption(e, i)}\r\n            on:keydown={(e) => rmOption(e, i)}\r\n            bind:value={opt.option}\r\n          />\r\n          <i\r\n            class=\"fa-light fa-xmark text-xl\r\n        text-gray-400 cursor-pointer\"\r\n            on:click={() => remove(i)}\r\n          />\r\n        </div>\r\n      {/each}\r\n    </div>\r\n\r\n    <div\r\n      class=\"flex items-center pt-2 space-x-3 text-gray-400 hover:text-gray-700 cursor-pointer  \"\r\n      on:click={(e) => {\r\n        e.key = \"Enter\";\r\n        addOption(e);\r\n      }}\r\n    >\r\n      <i class=\"w-4 h-4 fa-light fa-plus\" />\r\n      <div class=\" capitalize\">Add choice</div>\r\n    </div>\r\n  {:else}\r\n    {#each store as opt}\r\n      <label class=\"flex items-center space-x-3 cursor-pointer\">\r\n        <input\r\n          class=\"focus:border-transparent border-tertiary text-blue-700 form-radio\"\r\n          {name}\r\n          type=\"radio\"\r\n          bind:group={value}\r\n          value={opt.option}\r\n        />\r\n        <div>\r\n          {opt.option}\r\n        </div>\r\n      </label>\r\n    {/each}\r\n  {/if}\r\n</div>\r\n","<script>\r\n  export let editable = false;\r\n  export let store;\r\n  export let selected;\r\n  let itemsNode;\r\n  // export let theme;\r\n\r\n  function remove(i) {\r\n    store.splice(i, 1);\r\n    store = store;\r\n  }\r\n\r\n  function addOption(e, i = -1) {\r\n    let l = i == -1 ? store.length - 1 : i;\r\n    if (e.key === \"Enter\") {\r\n      l = l + 1;\r\n      store.splice(l, 0, {\r\n        option: \"\",\r\n      });\r\n      store = store;\r\n      setTimeout(() => {\r\n        const item = [...itemsNode.children][l];\r\n        item?.children[0]?.focus();\r\n      });\r\n    }\r\n  }\r\n\r\n  function rmOption(e, i) {\r\n    if (e.key === \"Backspace\" && e.currentTarget.value === \"\") {\r\n      let l = i - 1;\r\n      remove(i);\r\n      setTimeout(() => {\r\n        const item = [...itemsNode.children][l];\r\n        item?.children[0]?.focus();\r\n      });\r\n    }\r\n  }\r\n</script>\r\n\r\n<div class=\"space-y-2\">\r\n  {#if editable}\r\n    <div\r\n      class=\"p-3 px-5 border border-tertiary rounded  focus:outline-quaternary w-1/2\"\r\n    >\r\n      <ul bind:this={itemsNode}>\r\n        {#each store as opt, i}\r\n          <li class=\"flex justify-between space-x-1 my-2\">\r\n            <!-- svelte-ignore a11y-autofocus -->\r\n            <input\r\n              placeholder=\"Type Option\"\r\n              type=\"text\"\r\n              class=\"focus:outline-quaternary border-0  bg-transparent\"\r\n              on:keyup={(e) => addOption(e, i)}\r\n              on:keydown={(e) => rmOption(e, i)}\r\n              bind:value={opt.option}\r\n            />\r\n            <i\r\n              class=\"fa-light fa-xmark text-xl\r\n            text-gray-400 cursor-pointer\"\r\n              on:click={() => remove(i)}\r\n            />\r\n          </li>\r\n        {/each}\r\n      </ul>\r\n      <div\r\n        class=\"text-gray-400 hover:text-gray-600 cursor-pointer \"\r\n        on:click={(e) => {\r\n          e.key = \"Enter\";\r\n          addOption(e);\r\n        }}\r\n      >\r\n        Add choice\r\n      </div>\r\n    </div>\r\n  {:else}\r\n    <select\r\n      class=\"w-full p-2.5 border border-tertiary rounded bg-transparent  focus:outline-quaternary \"\r\n      bind:value={selected}\r\n    >\r\n      {#each store as opt}\r\n        <option value={opt.option} selected=\"true\">{opt.option}</option>\r\n      {/each}\r\n    </select>\r\n  {/if}\r\n</div>\r\n","<script>\n  export let editable;\n  export let store;\n  // export let theme;\n  let itemsNode;\n\n  export let selected = store[0].option;\n  function addOption(e, i = -1) {\n    let l = i == -1 ? store.length - 1 : i;\n    if (e.key === \"Enter\") {\n      l = l + 1;\n      store.splice(l, 0, {\n        option: \"\",\n      });\n      store = store;\n      setTimeout(() => {\n        const item = [...itemsNode.children][l];\n        item?.children[0]?.focus();\n      });\n    }\n  }\n\n  function rmOption(e, i) {\n    if (e.key === \"Backspace\" && e.currentTarget.value === \"\") {\n      let l = i - 1;\n      remove(i);\n      setTimeout(() => {\n        const item = [...itemsNode.children][l];\n        item?.children[0]?.focus();\n      });\n    }\n  }\n\n  function remove(i) {\n    store.splice(i, 1);\n    store = store;\n  }\n</script>\n\n<div class=\"space-y-2\">\n  {#if editable}\n    <div class=\"flex flex-col my-3\">\n      <div\n        class=\"p-3 px-5 border border-tertiary rounded focus:outline-none max-w-[350px]\"\n      >\n        <ul bind:this={itemsNode}>\n          {#each store as opt, i}\n            <li class=\"flex space-x-1 my-2\">\n              <!-- svelte-ignore a11y-autofocus -->\n              <input\n                type=\"text\"\n                class=\"focus:outline-quaternary border-0 flex-auto bg-transparent\"\n                placeholder=\"Type Option\"\n                on:keyup={(e) => addOption(e, i)}\n                on:keydown={(e) => rmOption(e, i)}\n                bind:value={opt.option}\n              />\n              <i\n                class=\"fa-light fa-xmark text-xl\n          text-gray-400 cursor-pointer\"\n                on:click={() => remove(i)}\n              />\n            </li>\n          {/each}\n        </ul>\n        <div\n          class=\"text-gray-300 hover:text-gray-600 cursor-pointer \"\n          on:click={(e) => {\n            e.key = \"Enter\";\n            addOption(e);\n          }}\n        >\n          <i class=\"w-4 h-4 fa-light fa-plus\" />\n          Add choice\n        </div>\n      </div>\n    </div>\n  {:else}\n    <select\n      bind:value={selected}\n      multiple\n      class=\"block w-full mt-1 p-2.5 border border-tertiary rounded bg-transparent  focus:outline-quaternary \"\n    >\n      {#each store as opt}\n        <option value={opt.option}>{opt.option}</option>\n      {/each}\n    </select>\n  {/if}\n</div>\n","<script>\r\n  export let value;\r\n  export let required = false;\r\n  export let placeholder;\r\n  export let editable = false;\r\n  export let errorMsg = \"\";\r\n  // export let theme;\r\n</script>\r\n\r\n<div class=\"flex flex-col w-full relative\">\r\n  {#if editable}\r\n    <input\r\n      type=\"text\"\r\n      placeholder=\"Type placeholder ..\"\r\n      class=\"placeholder:text-gray-400 text-gray-400 bg-transparent  p-2.5 border border-tertiary rounded focus:outline-quaternary w-full\"\r\n      bind:value={placeholder}\r\n    />\r\n  {:else}\r\n    <input\r\n      type=\"text\"\r\n      class=\"p-2.5 border border-tertiary focus:ring-1 bg-transparent focus:outline-quaternary w-full rounded\"\r\n      {placeholder}\r\n      bind:value\r\n      {required}\r\n    />\r\n  {/if}\r\n</div>\r\n","<script>\r\n  export let editable;\r\n  export let value = \"\";\r\n  export let required;\r\n  export let placeholder;\r\n\r\n  // export let theme;\r\n</script>\r\n\r\n<div class=\"flex flex-col w-full\">\r\n  {#if editable}\r\n    <textarea\r\n      rows=\"5\"\r\n      placeholder=\"Type placeholder ..\"\r\n      class=\"text-gray-400 p-2.5 border border-tertiary bg-transparent rounded  focus:outline-quaternary w-full\"\r\n      bind:value={placeholder}\r\n    />\r\n  {:else}\r\n    <textarea\r\n      rows=\"5\"\r\n      class=\"p-2.5 border border-tertiary rounded bg-transparent  focus:outline-quaternary w-full\"\r\n      {placeholder}\r\n      bind:value\r\n      {required}\r\n    />\r\n  {/if}\r\n</div>\r\n","<script>\n  import Editor from \"tailwind-editor\";\n  export let label = \"submit\";\n  export let editable;\n  // export let next = true;\n  export let previous = false;\n  export let buttonBgColor;\n  export let buttonTextColor;\n  export let noPrevious = false;\n  // export let theme;\n\n  function togglePrev() {\n    noPrevious = !noPrevious;\n  }\n</script>\n\n<div style=\"--ft-primary:{buttonBgColor};--ft-secondary:{buttonTextColor};\">\n  {#if editable}\n    <div class=\"relative mr-4\">\n      <div\n        contenteditable=\"\"\n        bind:innerHTML={label}\n        class=\" {noPrevious\n          ? 'opacity-50'\n          : ''} rounded bg-primary/90 text-secondary border-tertiary/30 border hover:bg-primary\n            max-w-fit text-center px-10 py-2.5 capitalize focus:outline-quaternary font-semibold\"\n      />\n      {#if previous}\n        <i\n          on:click={togglePrev}\n          class=\"fa-light rounded cursor-pointer text-xs {noPrevious\n            ? 'fa-eye-slash'\n            : 'fa-eye'} p-1 bg-black text-white bg-opacity-75 border z-50  top-0 right-0 absolute\"\n        />\n      {/if}\n    </div>\n  {:else if !previous || !noPrevious}\n    <div\n      role=\"button\"\n      class=\"mr-4 bg-primary/90 hover:bg-primary border-tertiary/30 border text-secondary max-w-fit rounded text-center px-10 py-2.5 capitalize focus:outline-quaternary font-semibold cursor-pointer  select-none  \"\n      on:click\n    >\n      {label}\n    </div>\n  {/if}\n</div>\n","<script>\n  export let store;\n  export let editable;\n  export let value = [];\n  // export let theme;\n\n  let itemsNode;\n  function addOption(e, i = -1) {\n    let l = i == -1 ? store.length - 1 : i;\n    if (e.key === \"Enter\") {\n      l = l + 1;\n      store.splice(l, 0, {\n        option: \"\",\n      });\n      store = store;\n      setTimeout(() => {\n        const item = [...itemsNode.children][l];\n        item?.children[1]?.focus();\n      });\n    }\n  }\n\n  function rmOption(e, i) {\n    if (e.key === \"Backspace\" && e.currentTarget.value === \"\") {\n      let l = i - 1;\n      remove(i);\n      setTimeout(() => {\n        const item = [...itemsNode.children][l];\n        item?.children[1]?.focus();\n      });\n    }\n  }\n\n  function remove(i) {\n    store.splice(i, 1);\n    store = store;\n  }\n</script>\n\n{#if editable}\n  <div bind:this={itemsNode} class=\"flex flex-col space-y-2 max-w-[350px]\">\n    {#each store as opt, i}\n      <div class=\"flex items-center space-x-3 w-full\">\n        <input\n          class=\"w-4 h-4 border-tertiary form-checkbox text-blue-700\"\n          type=\"checkbox\"\n          bind:group={value}\n          value={opt}\n        />\n        <!-- svelte-ignore a11y-autofocus -->\n        <input\n          type=\"text\"\n          class=\"focus:outline-none bg-transparent border-0 rounded flex-auto\"\n          placeholder=\"Type Option\"\n          on:keyup={(e) => addOption(e, i)}\n          on:keydown={(e) => rmOption(e, i)}\n          bind:value={opt.option}\n        />\n        <i\n          class=\"fa-light fa-xmark text-xl\n      text-gray-400 cursor-pointer\"\n          on:click={() => remove(i)}\n        />\n      </div>\n    {/each}\n  </div>\n  <div\n    class=\"flex items-center space-x-3 my-2 text-gray-400 hover:text-gray-700 cursor-pointer\"\n    on:click={(e) => {\n      e.key = \"Enter\";\n      addOption(e);\n    }}\n  >\n    <i class=\"w-4 h-4 fa-light fa-plus\" />\n    <div class=\" capitalize\">Add choice</div>\n  </div>\n{:else}\n  {#each store as opt}\n    <label class=\"flex items-center space-x-3 max-w-fit my-2 cursor-pointer\">\n      <input\n        class=\"border-tertiary form-checkbox text-blue-700\"\n        type=\"checkbox\"\n        name={value}\n        bind:group={value}\n        value={opt.option}\n      />\n      <div>\n        {@html opt.option}\n      </div>\n    </label>\n  {/each}\n{/if}\n","<script>\n  export let editable;\n  export let value;\n  export let placeholder;\n  // export let theme;\n  export let required;\n</script>\n\n<div>\n  {#if editable}\n    <input\n      type=\"text\"\n      placeholder=\"Type placeholder ..\"\n      class=\"text-gray-400 p-2.5 border bg-transparent border-tertiary rounded  focus:outline-quaternary w-full\"\n      bind:value={placeholder}\n    />\n  {:else}\n    <input\n      type=\"password\"\n      class=\"p-2.5 border border-tertiary bg-transparent rounded  focus:outline-quaternary w-full\"\n      {placeholder}\n      bind:value\n    />\n  {/if}\n</div>\n","<script>\n  export let value;\n  export let required;\n  // export let theme;\n</script>\n\n<div class=\"\">\n  <input\n    class=\"p-2.5 border bg-transparent  border-tertiary rounded focus:outline-quaternary w-full\"\n    type=\"date\"\n    bind:value\n  />\n</div>\n","<script>\n  export let value;\n  export let required;\n  // export let theme;\n</script>\n\n<input\n  type=\"datetime-local\"\n  class=\"p-2.5 border border-tertiary bg-transparent rounded  focus:outline-quaternary w-full\"\n  name=\"datetime\"\n  bind:value\n/>\n","<script>\n  export let editable;\n  export let value;\n  export let placeholder;\n  // export let theme;\n  export let required;\n</script>\n\n<div>\n  {#if editable}\n    <input\n      class=\"bg-transparent text-gray-400  p-2.5 border border-tertiary rounded  focus:outline-quaternary w-full\"\n      placeholder=\"Type placeholder ..\"\n      type=\"email\"\n      bind:value={placeholder}\n    />\n  {:else}\n    <input\n      class=\"p-2.5 border border-tertiary bg-transparent rounded  focus:outline-quaternary w-full\"\n      {placeholder}\n      type=\"email\"\n      bind:value\n      {required}\n    />\n  {/if}\n</div>\n","<script>\n  export let editable;\n  export let value;\n  export let placeholder;\n  // export let theme;\n\n  export let required;\n</script>\n\n<div class=\"w-full\">\n  {#if editable}\n    <input\n      class=\"text-gray-400 p-2.5 border bg-transparent border-tertiary rounded  focus:outline-quaternary w-full\"\n      placeholder=\"Type placeholder ..\"\n      type=\"text\"\n      bind:value={placeholder}\n    />\n  {:else}\n    <input\n      class=\"p-2.5 border border-tertiary bg-transparent rounded  focus:outline-quaternary w-full\"\n      {placeholder}\n      type=\"number\"\n      bind:value\n    />\n  {/if}\n</div>\n","<script>\n  export let value;\n  export let required;\n  // export let theme;\n</script>\n\n<div>\n  <input\n    class=\"p-2.5 border border-tertiary bg-transparent rounded  focus:outline-quaternary w-full\"\n    type=\"time\"\n    bind:value\n  />\n</div>\n","import Radio from \"../ui/InputTypes/Radio.svelte\";\nimport Select from \"../ui/InputTypes/Select.svelte\";\nimport Multichoice from \"../ui/InputTypes/Multichoice.svelte\";\nimport Text from \"../ui/InputTypes/Text.svelte\";\nimport Textarea from \"../ui/InputTypes/Textarea.svelte\";\nimport Submit from \"../ui/InputTypes/Submit.svelte\";\nimport Checkbox from \"../ui/InputTypes/CheckBox.svelte\";\nimport Password from \"../ui/InputTypes/Password.svelte\";\nimport Date from \"../ui/InputTypes/Date.svelte\";\nimport DateTime from \"../ui/InputTypes/DateTime.svelte\";\nimport Email from \"../ui/InputTypes/Email.svelte\";\nimport Number from \"../ui/InputTypes/Number.svelte\";\nimport Time from \"../ui/InputTypes/Time.svelte\";\n\nexport default {\n  Radio,\n  Select,\n  Multichoice,\n  Text,\n  Textarea,\n  Submit,\n  Checkbox,\n  Password,\n  Date,\n  DateTime,\n  Email,\n  Number,\n  Time,\n};\n","export function randomString() {\n  return (Math.random() + 1).toString(36).substring(2);\n}","<script>\r\n  import { clickOutside } from \"../../../utils/clickOutside\";\r\n  export let menu;\r\n  export let required;\r\n  export let label = \"Required\";\r\n\r\n  function hideMenu(e) {\r\n    menu = false;\r\n  }\r\n</script>\r\n\r\n<div use:clickOutside on:click_outside={hideMenu}>\r\n  <!-- Required -->\r\n  <div\r\n    class=\"flex justify-between z-50 bg-white hover:bg-gray-50  dark:text-gray-300 cursor-pointer outline-gray-50 items-center w-32 text-sm  p-3  capitalize  shadow text-gray-500\"\r\n    on:click={() => {\r\n      required = !required;\r\n    }}\r\n  >\r\n    <span class=\" text-sm \">\r\n      {label}\r\n    </span>\r\n    <label\r\n      for=\"toggle\"\r\n      class=\"inline-flex relative items-center cursor-pointer\"\r\n    >\r\n      <input\r\n        type=\"checkbox\"\r\n        value=\"\"\r\n        id=\"toggle\"\r\n        class=\"sr-only peer\"\r\n        checked={required}\r\n        on:click={() => {\r\n          required = !required;\r\n        }}\r\n      />\r\n      <div\r\n        class=\"w-8 h-4 bg-gray-300 rounded-full peer dark:bg-gray-700 peer-focus:ring-1 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[5px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-3 after:w-3 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600\"\r\n      />\r\n    </label>\r\n  </div>\r\n</div>\r\n","<script>\r\n  import { createEventDispatcher } from \"svelte\";\r\n  import Menu from \"./Menu.svelte\";\r\n  export let show_inputs;\r\n  export let index;\r\n  export let showDelete = false;\r\n  export let showAdd = false;\r\n  export let showMenu = false;\r\n  export let key;\r\n  export let menu;\r\n  export let required;\r\n  const dispatch = createEventDispatcher();\r\n  function add() {\r\n    show_inputs = true;\r\n    dispatch(\"add\", index);\r\n  }\r\n  export let inputsStore;\r\n  function removeInput() {\r\n    if (!confirm(\"Are you sure you want to delete this input ?\")) return;\r\n    const inputIndex = inputsStore.findIndex((input) => input.key === key);\r\n    if (~inputIndex) {\r\n      inputsStore.splice(inputIndex, 1);\r\n      inputsStore = inputsStore;\r\n    }\r\n  }\r\n  inputsStore = inputsStore;\r\n</script>\r\n\r\n<div class=\"flex\">\r\n  <!-- delete -->\r\n  <div class=\"flex flex-col relative \">\r\n    <div\r\n      class=\" cursor-pointer  text-gray-400 hover:text-gray-600  p-1\"\r\n      on:click|preventDefault={() => removeInput()}\r\n      on:mouseenter={() => (showDelete = true)}\r\n      on:mouseleave={() => (showDelete = false)}\r\n    >\r\n      <i class=\"fa-light fa-trash-can text-lg\" />\r\n    </div>\r\n    {#if showDelete}\r\n      <div\r\n        class=\"w-20 text-xs p-1 text-center capitalize bg-gray-600 text-white rounded absolute top-10 -left-3\"\r\n      >\r\n        Delete input\r\n      </div>\r\n    {/if}\r\n  </div>\r\n  <!-- add -->\r\n\r\n  <div class=\"flex flex-col relative \">\r\n    <div\r\n      class=\"cursor-pointer text-gray-400 hover:text-gray-600  p-1\"\r\n      on:click|preventDefault={add}\r\n      on:mouseenter={() => (showAdd = true)}\r\n      on:mouseleave={() => (showAdd = false)}\r\n    >\r\n      <i class=\"fa-light fa-plus  text-lg\" />\r\n    </div>\r\n    {#if showAdd}\r\n      <div\r\n        class=\"w-20 text-xs bg-gray-600  p-1 text-center capitalize text-white rounded absolute top-10 -left-3\"\r\n      >\r\n        Add input\r\n      </div>\r\n    {/if}\r\n  </div>\r\n\r\n  <!-- menu -->\r\n  <div class=\"flex flex-col relative\">\r\n    <div\r\n      data-name=\"showMenu\"\r\n      class=\"cursor-pointer text-gray-400 hover:text-gray-600 p-1\"\r\n      on:click|preventDefault={() => {\r\n        menu = !menu;\r\n        showMenu = false;\r\n      }}\r\n      on:mouseenter={() => {\r\n        if (!menu) {\r\n          showMenu = true;\r\n        }\r\n      }}\r\n      on:mouseleave={() => (showMenu = false)}\r\n    >\r\n      <i class=\"fa-light fa-ellipsis-vertical px-1 text-lg\" />\r\n    </div>\r\n    {#if showMenu}\r\n      <div\r\n        class=\"w-20 text-xs bg-gray-600 text-white rounded absolute top-10 p-1 text-center capitalize -left-3\"\r\n      >\r\n        Show menu\r\n      </div>\r\n    {/if}\r\n    <div class=\"absolute -bottom-11 z-50\">\r\n      {#if menu}\r\n        <Menu bind:menu bind:required />\r\n      {/if}\r\n    </div>\r\n  </div>\r\n</div>\r\n","<script>\n  import Editor from \"tailwind-editor\";\n  import SideMenu from \"./SideMenu.svelte\";\n  import { createEventDispatcher } from \"svelte\";\n  const dispatch = createEventDispatcher();\n  export let showDrag = false;\n  export let showElement = true;\n  export let menu = false;\n  export let editable;\n  export let validation;\n  export let required = false;\n  export let index;\n  export let key;\n  export let show_inputs;\n  export let inputsStore;\n  export let arr_html = [];\n  export let help_html = [];\n\n  function indexInput() {\n    dispatch(\"clickAdd\", index);\n  }\n</script>\n\n{#if showElement}\n  <div\n    class=\"relative {editable ? 'pl-16' : ''}\"\n    on:mouseenter={() => {\n      if (editable) {\n        showDrag = true;\n      }\n    }}\n    on:mouseleave={() => {\n      if (menu) {\n      } else {\n        showDrag = false;\n      }\n    }}\n  >\n    {#if true || editable || ((arr_html?.length ?? 0) >= 1 && arr_html?.[0]?.html)}\n      <Editor bind:arr_html {editable} />\n    {/if}\n    <div\n      class=\"relative max-w-2xl\"\n      style={validation.errorMsg && !editable\n        ? \"--ft-tertiary: 220 38 38;\"\n        : \"\"}\n    >\n      <slot />\n\n      {#if required}\n        <div\n          title=\"required\"\n          class=\"absolute top-0 mt-px mr-px right-0 bg-transparent\n          w-[0] h-[0] border-t-[22px] border-l-[25px]\n          border-l-transparent inline-block cursor-pointer border-gray-300\n          \"\n        />\n        <i\n          title=\"required\"\n          class=\"fa-solid cursor-pointer fa-asterisk absolute text-gray-800 text-xl top-0 right-0 mr-0.5\"\n        />\n      {/if}\n    </div>\n    {#if !editable && validation.errorMsg}\n      <div class=\"text-red-500 text-sm mt-2\">\n        {validation.errorMsg}\n      </div>\n    {/if}\n\n    {#if true || editable || ((help_html?.length ?? 0) >= 1 && help_html?.[0]?.html)}\n      <Editor bind:arr_html={help_html} {editable} />\n    {/if}\n\n    {#if showDrag}\n      <div\n        class=\"absolute top-0 space-x-0.5  -left-5 flex  items-center justify-center m-1\"\n      >\n        <SideMenu\n          bind:inputsStore\n          bind:required\n          bind:menu\n          {index}\n          {key}\n          bind:show_inputs\n          on:add={indexInput}\n        />\n      </div>\n    {/if}\n  </div>\n{/if}\n","<script>\r\n  import EditorSteps from \"./ui/EditorSteps.svelte\";\r\n  import cmpsRegistry from \"./utils/cmpsRegistry\";\r\n  import { randomString } from \"./utils/random\";\r\n  import InputWrapper from \"./ui/Common/Inputs/InputWrapper.svelte\";\r\n  import Submit from \"./ui/InputTypes/Submit.svelte\";\r\n  import { createEventDispatcher } from \"svelte\";\r\n  export let stepsList;\r\n  export let numberOfSteps;\r\n  const dispatch = createEventDispatcher();\r\n\r\n  export let step;\r\n  step.props ||= {};\r\n  step.props.previousBtn ||= \"Back\";\r\n  step.props.nextBtn ||= \"Next\";\r\n\r\n  export let editable;\r\n  export let theme;\r\n  export let show_inputs = false;\r\n  export let stepInd = stepsList.indexOf(step);\r\n  export let buttonBgColor;\r\n  export let buttonTextColor;\r\n\r\n  $: inputsStore = step?.inputs;\r\n  $: inputIndex = inputsStore?.length;\r\n  export let errorMsg;\r\n  function saveInput(evt) {\r\n    const elem = { ...evt.detail, key: randomString() };\r\n    inputsStore.splice(inputIndex, 0, elem);\r\n    inputsStore = inputsStore;\r\n    inputIndex++;\r\n  }\r\n\r\n  function next() {\r\n    let valid = true;\r\n    for (const input of step.inputs) {\r\n      if (input.props.fields.validation.required == true) {\r\n        if (input.value === \"\" || input.value == undefined) {\r\n          valid = false;\r\n          input.props.fields.validation.errorMsg = \"Field is required\";\r\n        } else {\r\n          input.props.fields.validation.errorMsg = \"\";\r\n        }\r\n      }\r\n    }\r\n    step = step;\r\n    if (valid) stepInd++;\r\n  }\r\n\r\n  function previous() {\r\n    stepInd--;\r\n  }\r\n\r\n  function submitForm() {\r\n    dispatch(\"submit\");\r\n  }\r\n\r\n  function getIndex(index) {\r\n    inputIndex = index.detail + 1;\r\n  }\r\n</script>\r\n\r\n<div>\r\n  {#each inputsStore as input, index}\r\n    <InputWrapper\r\n      key={input.key}\r\n      {editable}\r\n      bind:show_inputs\r\n      bind:inputsStore\r\n      bind:required={input.props.fields.validation.required}\r\n      validation={input.props.fields.validation}\r\n      {index}\r\n      bind:arr_html={input.props.arr_html}\r\n      bind:help_html={input.props.help_html}\r\n      on:clickAdd={getIndex}\r\n    >\r\n      <svelte:component\r\n        this={cmpsRegistry[input?.type]}\r\n        {editable}\r\n        bind:theme\r\n        bind:selected={input.value}\r\n        bind:store={input.props.fields.store}\r\n        bind:placeholder={input.props.fields.placeholder}\r\n        bind:label={input.label}\r\n        {...input?.props?.fields ?? {}}\r\n        bind:value={input.value}\r\n        bind:required={input.props.fields.validation.required}\r\n        bind:errorMsg\r\n      />\r\n    </InputWrapper>\r\n  {/each}\r\n  {#if editable}\r\n    <div class=\"ml-16 flex\">\r\n      <div\r\n        class=\" flex items-center text-lg my-9 text-gray-400 capitalize cursor-pointer space-x-2\"\r\n        on:click={() => {\r\n          show_inputs = true;\r\n        }}\r\n      >\r\n        <i class=\"fa-light  text-sm fa-plus mt-1\" />\r\n        <div>Add Input</div>\r\n      </div>\r\n    </div>\r\n  {/if}\r\n  <div class=\"{editable ? 'pl-16' : ''} mb-4 mt-10\">\r\n    {#if stepInd == numberOfSteps - 1 && numberOfSteps !== 1}\r\n      <div class=\"flex\">\r\n        <Submit\r\n          {editable}\r\n          {theme}\r\n          previous\r\n          bind:label={step.props.previousBtn}\r\n          bind:noPrevious={step.props.noPrevious}\r\n          on:click={previous}\r\n          buttonBgColor={buttonTextColor}\r\n          buttonTextColor={buttonBgColor}\r\n        />\r\n        <Submit\r\n          {editable}\r\n          {theme}\r\n          next\r\n          bind:label={step.props.nextBtn}\r\n          on:click={submitForm}\r\n          {buttonBgColor}\r\n          {buttonTextColor}\r\n        />\r\n      </div>\r\n    {:else if stepInd == numberOfSteps - 1 && numberOfSteps == 1}\r\n      <Submit\r\n        {editable}\r\n        {theme}\r\n        next\r\n        bind:label={step.props.nextBtn}\r\n        on:click={submitForm}\r\n        {buttonBgColor}\r\n        {buttonTextColor}\r\n      />\r\n    {:else if stepInd == 0}\r\n      <Submit\r\n        {editable}\r\n        {theme}\r\n        next\r\n        bind:label={step.props.nextBtn}\r\n        on:click={next}\r\n        {buttonBgColor}\r\n        {buttonTextColor}\r\n      />\r\n    {:else}\r\n      <div class=\"flex\">\r\n        <Submit\r\n          {editable}\r\n          {theme}\r\n          previous\r\n          bind:label={step.props.previousBtn}\r\n          bind:noPrevious={step.props.noPrevious}\r\n          on:click={previous}\r\n          buttonBgColor={buttonTextColor}\r\n          buttonTextColor={buttonBgColor}\r\n        />\r\n        <Submit\r\n          {editable}\r\n          {theme}\r\n          next\r\n          bind:label={step.props.nextBtn}\r\n          on:click={next}\r\n          {buttonBgColor}\r\n          {buttonTextColor}\r\n        />\r\n      </div>\r\n    {/if}\r\n  </div>\r\n\r\n  {#if show_inputs}\r\n    <EditorSteps bind:show={show_inputs} on:complete={saveInput} />\r\n  {/if}\r\n</div>\r\n","<script>\r\n  import { clickOutside } from \"../../../utils/clickOutside\";\r\n  import { createEventDispatcher } from \"svelte\";\r\n  const dispatch = createEventDispatcher();\r\n  export let stepInd;\r\n  export let stepMenu;\r\n  export let step;\r\n  function deleteStep() {\r\n    dispatch(\"deleteStep\", stepInd);\r\n  }\r\n  export let stepsList;\r\n  export let numberOfSteps;\r\n\r\n  function duplicate() {\r\n    stepsList.splice(stepInd + 1, 0, step);\r\n    stepsList = stepsList;\r\n  }\r\n</script>\r\n\r\n<div\r\n  class=\"flex flex-col z-20 absolute top-10 -left-3 rounded \"\r\n  use:clickOutside\r\n  on:click_outside={() => {\r\n    stepMenu = false;\r\n  }}\r\n>\r\n  <!-- Delete -->\r\n  {#if numberOfSteps !== 1}\r\n    <div\r\n      class=\"flex space-x-3 bg-white hover:bg-gray-50  dark:text-gray-300 cursor-pointer  items-center w-32 text-sm  p-3  capitalize  shadow text-gray-500 \"\r\n      on:click={deleteStep}\r\n    >\r\n      <i class=\"fa-light fa-trash-can mt-1\" />\r\n      <span class=\" text-sm \"> delete </span>\r\n    </div>\r\n  {/if}\r\n  <!-- duplicate -->\r\n  <div\r\n    class=\"flex space-x-3  bg-white hover:bg-gray-50 dark:text-gray-300 cursor-pointer  items-center w-32 text-sm p-3  capitalize  shadow text-gray-500 \"\r\n    on:click={duplicate}\r\n  >\r\n    <i class=\"fa-light fa-clone mt-1\" />\r\n    <span class=\" text-sm \"> duplicate </span>\r\n  </div>\r\n</div>\r\n","<script>\r\n  import StepMenu from \"./StepMenu.svelte\";\r\n\r\n  export let showDelete = false;\r\n  export let showMenu = false;\r\n  export let stepMenu;\r\n  export let stepInd;\r\n  export let stepsList;\r\n  export let step;\r\n  export let numberOfSteps;\r\n  function deleteStep() {\r\n    if (!confirm(\"Are you sure you want to delete this step?\")) return;\r\n    stepsList.splice(stepInd + 1, 1);\r\n    stepsList = stepsList;\r\n  }\r\n</script>\r\n\r\n<div class=\"flex\">\r\n  <!-- delete -->\r\n  {#if numberOfSteps !== 1}\r\n    <div class=\"flex flex-col relative \">\r\n      <div\r\n        class=\" cursor-pointer  text-gray-400 hover:text-gray-600 p-1\"\r\n        on:click={deleteStep}\r\n        on:mouseenter={() => (showDelete = true)}\r\n        on:mouseleave={() => (showDelete = false)}\r\n      >\r\n        <i class=\"fa-light fa-trash-can text-lg\" />\r\n      </div>\r\n      {#if showDelete}\r\n        <div\r\n          class=\"w-20 text-xs p-2 text-center capitalize bg-gray-600 text-white rounded absolute top-10 -left-3\"\r\n        >\r\n          Delete Step\r\n        </div>\r\n      {/if}\r\n    </div>\r\n  {/if}\r\n  <!-- menu -->\r\n  <div class=\"flex flex-col relative\">\r\n    <div\r\n      class=\"  cursor-pointer text-gray-400 hover:text-gray-600 p-1\"\r\n      on:click|preventDefault={() => {\r\n        stepMenu = true;\r\n        showMenu = false;\r\n      }}\r\n      on:mouseenter={() => {\r\n        if (!stepMenu) {\r\n          showMenu = true;\r\n        }\r\n      }}\r\n      on:mouseleave={() => (showMenu = false)}\r\n    >\r\n      <i class=\"fa-light fa-ellipsis-vertical px-2 text-xl\" />\r\n    </div>\r\n    {#if showMenu}\r\n      <div\r\n        class=\"w-20 text-xs bg-gray-600 text-white rounded absolute top-10 p-1 text-center capitalize -left-3\"\r\n      >\r\n        Show menu\r\n      </div>\r\n    {/if}\r\n    {#if stepMenu}\r\n      <StepMenu\r\n        {numberOfSteps}\r\n        bind:stepMenu\r\n        bind:stepInd\r\n        bind:stepsList\r\n        bind:step\r\n        on:deleteStep={deleteStep}\r\n      />\r\n    {/if}\r\n  </div>\r\n</div>\r\n","<script>\r\n  import SideStepMenu from \"./SideStepMenu.svelte\";\r\n  export let editable;\r\n  export let stepper;\r\n  export let stepMenu;\r\n  export let stepInd;\r\n  export let stepsList;\r\n  export let step;\r\n  export let numberOfSteps;\r\n</script>\r\n\r\n<div\r\n  class=\" relative my-3 p-3 \"\r\n  on:mouseenter={() => {\r\n    if (editable) {\r\n      stepper = true;\r\n    }\r\n  }}\r\n  on:mouseleave={() => {\r\n    if (stepMenu) {\r\n      stepper = true;\r\n    } else {\r\n      stepper = false;\r\n    }\r\n  }}\r\n>\r\n  <slot />\r\n\r\n  {#if stepper && stepInd < numberOfSteps - 1}\r\n    <div\r\n      class=\"absolute {numberOfSteps == 1\r\n        ? ' left-0.5 top-10 '\r\n        : ''} {stepInd == numberOfSteps - 1\r\n        ? ' bottom-10 -left-6'\r\n        : 'bottom-5 -left-6 '} space-x-0.5  flex  items-center justify-center m-1 pl-5\"\r\n    >\r\n      <SideStepMenu\r\n        bind:stepMenu\r\n        bind:stepInd\r\n        {numberOfSteps}\r\n        bind:stepsList\r\n        bind:step\r\n      />\r\n    </div>\r\n  {/if}\r\n</div>\r\n","<script>\r\n  import StepWrapper from \"./StepWrapper.svelte\";\r\n\r\n  export let editable;\r\n  export let stepInd;\r\n  export let step;\r\n  export let stepsList;\r\n  export let stepper;\r\n  export let numberOfSteps;\r\n  export let label;\r\n  export let withMessage;\r\n</script>\r\n\r\n<div>\r\n  <StepWrapper\r\n    class=\"max-w-screen-lg mx-auto\"\r\n    bind:editable\r\n    bind:stepInd\r\n    bind:step\r\n    bind:stepsList\r\n    {numberOfSteps}\r\n    on:mouseenter={() => {\r\n      if (editable) {\r\n        stepper = true;\r\n      }\r\n    }}\r\n    on:mouseleave={() => {\r\n      stepper = false;\r\n    }}\r\n  >\r\n    <div class=\"flex items-center py-2 my-4 w-full\">\r\n      <div\r\n        class=\"border-t-2 border-dashed border-gray-300 h-1 w-2/5 shrink-0\"\r\n      />\r\n      {#if withMessage && stepInd == numberOfSteps - 1}\r\n        <div class=\"flex-auto border-t-2 border-dashed border-gray-300 h-1\" />\r\n      {:else}\r\n        <div\r\n          on:click\r\n          class=\"cursor-pointer flex items-center justify-center rounded-full border-2 border-dashed border-gray-300 space-x-2 p-2 text-gray-400 px-8 capitalize\"\r\n        >\r\n          <i class=\"fa-light fa-plus text-sm mt-0.5\" />\r\n          <div class=\"\">Add step</div>\r\n        </div>\r\n      {/if}\r\n\r\n      <div class=\"flex-auto border-t-2 border-dashed border-gray-300 h-1\" />\r\n      <div class=\"mb-2\">\r\n        {#if stepInd == numberOfSteps - 1}\r\n          <div\r\n            class=\"flex justify-between space-x-2 dark:text-gray-300 cursor-pointer items-center text-sm p-2 capitalize text-gray-500 font-medium\"\r\n            on:click={() => {\r\n              withMessage = !withMessage;\r\n            }}\r\n          >\r\n            <span class=\" text-sm font-medium \">\r\n              {label}\r\n            </span>\r\n            <label\r\n              for=\"toggle\"\r\n              class=\"inline-flex relative items-center cursor-pointer\"\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                value=\"\"\r\n                id=\"toggle\"\r\n                class=\"sr-only peer\"\r\n                checked={withMessage}\r\n                on:click={() => {\r\n                  withMessage = !withMessage;\r\n                }}\r\n              />\r\n              <div\r\n                class=\"w-8 h-4 bg-gray-300 rounded-full peer dark:bg-gray-700 peer-focus:ring-1 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[5px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-3 after:w-3 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600\"\r\n              />\r\n            </label>\r\n          </div>\r\n        {/if}\r\n      </div>\r\n    </div>\r\n  </StepWrapper>\r\n</div>\r\n","<script>\r\n  import Editor from \"tailwind-editor\";\r\n  import Step from \"./Step.svelte\";\r\n  import { randomString } from \"./utils/random\";\r\n  import StepLine from \"./ui/Common/Steps/StepLine.svelte\";\r\n  // import { formStore } from \"./utils/store\";\r\n  export let editable;\r\n  export let stepper;\r\n  export let label = \"'thank you' Page\";\r\n  export let __service;\r\n  export let stepInd = 0;\r\n  export let buttonBgColor;\r\n  export let buttonTextColor;\r\n  export let canSaveForm = false;\r\n\r\n  export let formStore = null;\r\n\r\n  // let steps = formStore?.steps;\r\n  let oldEditable = false;\r\n\r\n  $: if (editable !== oldEditable && !editable) {\r\n    oldEditable = editable;\r\n  }\r\n\r\n  $: if (editable !== oldEditable && editable) {\r\n    oldEditable = editable;\r\n    stepInd = 0;\r\n    // change formStore version, this will make the update go through\r\n    if (formStore) {\r\n      formStore.version = \"\" + (+(formStore.version ?? 0) + 1);\r\n    }\r\n  }\r\n\r\n  let arr_msg = [\r\n    {\r\n      html: \"Thank you!! Your submission has been sent.\",\r\n      klass: \"text-center md:text-xl text-lg\",\r\n    },\r\n  ];\r\n  export let withMessage = false;\r\n  export let theme = \"simple\";\r\n\r\n  export let form = {\r\n    steps: [\r\n      {\r\n        key: randomString(),\r\n        inputs: [],\r\n      },\r\n    ],\r\n    props: {\r\n      withMessage: false,\r\n      message: arr_msg,\r\n    },\r\n    theme: theme,\r\n  };\r\n\r\n  async function initForm(formInputs) {\r\n    if (formStore && !formInputs) {\r\n      form = formStore;\r\n    } else {\r\n      form = await window.Fouita.Form.init(__service, formInputs ?? {});\r\n    }\r\n    form.props ||= {\r\n      withMessage: false,\r\n      message: arr_msg,\r\n    };\r\n    formStore = form;\r\n\r\n    for (let s of formStore.steps) {\r\n      if (!s.inputs?.length) {\r\n        s.inputs = [];\r\n      }\r\n    }\r\n  }\r\n\r\n  function addStep(index) {\r\n    let step = {\r\n      key: randomString(),\r\n      inputs: [],\r\n      props: {\r\n        nextBtn: \"Next\",\r\n        previousBtn: \"Back\",\r\n      },\r\n    };\r\n    formStore.steps.splice(index + 1, 0, step);\r\n    formStore = formStore;\r\n  }\r\n\r\n  function saveForm() {\r\n    formStore.version = \"\" + (+(formStore.version ?? 0) + 1);\r\n    initForm(formStore);\r\n  }\r\n\r\n  async function submitForm() {\r\n    if (!formStore?.steps) {\r\n      console.error(\"No steps found!\");\r\n      return;\r\n    }\r\n    formStore.steps.forEach((element) => {\r\n      element.inputs.forEach((e) => {\r\n        if (typeof e.value !== \"string\") {\r\n          e.value = e.value?.toString() ?? \"\";\r\n        }\r\n      });\r\n    });\r\n\r\n    const res = await Fouita.Form.submit(formStore);\r\n    if (formStore.props.withMessage) {\r\n      withMessage = true;\r\n    }\r\n  }\r\n  initForm();\r\n</script>\r\n\r\n<div class=\"p-5 bg-secondary text-primary max-w-screen-lg mx-auto\">\r\n  {#if editable}\r\n    {#if canSaveForm}\r\n      <div class=\"flex justify-center\">\r\n        <div class=\"flex items-center justify-center p-10\">\r\n          <button\r\n            class=\"px-4 py-2 rounded border bg-blue-700 text-blue-100\"\r\n            on:click={saveForm}\r\n          >\r\n            Save Form\r\n          </button>\r\n        </div>\r\n      </div>\r\n    {/if}\r\n\r\n    <div class=\"relative pt-4 pb-10\">\r\n      {#each formStore?.steps ?? [] as step, i}\r\n        <Step\r\n          {editable}\r\n          bind:step\r\n          bind:numberOfSteps={formStore.steps.length}\r\n          bind:stepsList={formStore.steps}\r\n          bind:theme\r\n          stepInd={i}\r\n          {buttonBgColor}\r\n          {buttonTextColor}\r\n          on:submit={submitForm}\r\n        />\r\n        <StepLine\r\n          {editable}\r\n          bind:withMessage={formStore.props.withMessage}\r\n          stepInd={i}\r\n          bind:step\r\n          {stepper}\r\n          {label}\r\n          bind:numberOfSteps={formStore.steps.length}\r\n          bind:stepsList={formStore.steps}\r\n          on:click={() => addStep(i)}\r\n        />\r\n      {/each}\r\n\r\n      {#if formStore?.props.withMessage}\r\n        <div class=\"px-4\">\r\n          <Editor bind:arr_html={formStore.props.message} {editable} />\r\n        </div>\r\n      {/if}\r\n    </div>\r\n  {:else if !editable && !withMessage}\r\n    <Step\r\n      {editable}\r\n      bind:theme\r\n      bind:step={formStore.steps[stepInd]}\r\n      bind:numberOfSteps={formStore.steps.length}\r\n      bind:stepsList={formStore.steps}\r\n      bind:stepInd\r\n      {buttonBgColor}\r\n      {buttonTextColor}\r\n      on:submit={submitForm}\r\n    />\r\n  {:else if !editable && withMessage}\r\n    <Editor arr_html={formStore.props.message} {editable} />\r\n  {/if}\r\n</div>\r\n","<script>\n\timport FormBuilder from \"./lib/FormBuilder.svelte\";\n\t// console.log(\"Fouita -*-> \", window.Fouita);\n\texport let __service = \"0x556b3\";\n\texport let editable = true;\n\texport let textColor = \"0 0 0\";\n\texport let bgColor = \"250 250 250\";\n\texport let outlineColor = \"165 180 252\";\n\texport let buttonBgColor = \"79 70 229\";\n\texport let buttonTextColor = \"255 255 255\";\n\texport let borderColor = \"200 200 200\";\n\texport let canSaveForm = false;\n\texport let form;\n</script>\n\n{#if canSaveForm}\n\t<div\n\t\tclass=\"absolute right-0 top-7 cursor-pointer rounded-l p-3 bg-indigo-50 hover:bg-indigo-100 active:bg-indigo-50 focus:drop-shadow-sm focus:outline-indigo-300 \"\n\t\ton:click={() => (editable = !editable)}\n\t>\n\t\t<i class=\"fa-light fa-pen text-xl text-indigo-700\" />\n\t</div>\n{/if}\n\n<main\n\tclass=\"max-w-screen-xl\"\n\tstyle=\"--ft-primary:{textColor};--ft-secondary:{bgColor};--ft-tertiary:{borderColor};--ft-quaternary:{outlineColor}\"\n>\n\t<FormBuilder\n\t\tbind:form\n\t\t{canSaveForm}\n\t\t{editable}\n\t\t{__service}\n\t\t{buttonBgColor}\n\t\t{buttonTextColor}\n\t/>\n</main>\n\n<style global lang=\"postcss\">\n\t@tailwind base;\n\t@tailwind components;\n\t@tailwind utilities;\n</style>\n","import App from './App.svelte';\n\n\n// add form style if does not exist (on window)\nfunction addFormStyle() {\n  let elm = document.getElementById(\"ft-form-style\")\n  if(!elm) {\n    elm = document.createElement(\"link\")\n    elm.setAttribute(\"id\", \"ft-form-style\")\n    elm.setAttribute(\"rel\", \"stylesheet\")\n    elm.setAttribute(\"href\", \"https://cdn.fouita.com/assets/fouita/ft-form-1.css\")\n    document.head.append(elm)\n  }\n}\n\naddFormStyle()\n\nexport default App\n\n// const app = new App({\n// \ttarget: document.getElementById('app1'),\n//   props: {\n//     canSaveForm: true\n//   }\n// });\n\n\n\n// export default [app];\n"],"names":["noop","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","get_slot_changes","dirty","lets","undefined","merged","len","Math","max","length","i","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","p","get_all_dirty_from_scope","action_destroyer","action_result","destroy","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","call","this","stop_propagation","stopPropagation","attr","attribute","value","removeAttribute","getAttribute","setAttribute","get_binding_group_value","group","__value","checked","Set","add","delete","Array","from","to_number","set_data","wholeText","set_input_value","input","set_style","key","important","style","removeProperty","setProperty","select_option","select","option","selected","selectedIndex","select_options","indexOf","select_value","selected_option","querySelector","current_component","set_current_component","component","get_current_component","Error","createEventDispatcher","type","detail","callbacks","$$","bubbles","e","createEvent","initCustomEvent","custom_event","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","tick","add_render_callback","push","add_flush_callback","seen_callbacks","flushidx","saved_component","update","pop","callback","has","clear","fragment","before_update","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","transition_out","o","globals","window","globalThis","global","get_spread_update","levels","updates","to_null_out","accounted_for","n","get_spread_object","spread_props","bind","index","props","bound","create_component","mount_component","customElement","on_mount","on_destroy","m","new_on_destroy","map","filter","destroy_component","init","instance","create_fragment","not_equal","append_styles","parent_component","on_disconnect","context","Map","skip_bound","root","ready","ret","rest","fill","make_dirty","hydrate","nodes","childNodes","children","l","intro","SvelteComponent","$destroy","$on","splice","$set","$$props","obj","$$set","keys","testImgUrl","url","timer","img","Image","onerror","onabort","clearTimeout","onload","setTimeout","testVideoUrl","test","trim","parseYouTube","str","matches","exec","parseVimeo","replace","code_class","quote_class","reg_txt_size","g_reg_txt_size","reg_leading","reg_position","reg_padding","reg_margin","reg_txt_color","reg_bg_color","reg_font","reg_pad","customTxtEditor","elm","dataset","txtcustom","toggleFont","arr","klass","reg","classes","split","s_font_index","findIndex","selected_font_class","concat","join","splitArr","a_i","s_i","e_i","start","end","txt","tag","href","s1","s2","arr1","getIndex","p_node","nodeName","includes","tagName","dispatch","arr_elms","html","gklass","editable","custom","generateArr","div","innerHTML","n_elms","itrue","hasAttribute","textContent","blank","classList","opts","autoplay","loop","muted","controls","iframe","lastChild","innerText","htxt","outerHTML","refreshEvents","mounted","onselectionchange","cursor_change","Date","char_keys","charCodeAt","extractHTML","elm_txt","replaceAll","ed_str","refresh","l_edit_state","edit_node","ch","contains","b_node","extra","alt","setMedia","setClasses","media_type","setVideo","setImg","setIframe","base_node","delMedia","delElm","mouseX","editMedia","currentTarget","contentEditorNode","h_selection","holdSelection","selection","start_i","baseOffset","end_i","extentOffset","anchorNode","e_node","focusNode","setClass","class_name","link","getSelection","toString","b_index","e_index","same_node","sb_index","se_index","x","n_arr","up_arr","arr2","s_color_index","startsWith","selected_color_class","toggleColor","find","toggleClass","p_selector","s_start","a_start","s_end","a_end","mergeArr","ch_nodes","start_node","end_node","firstChild","removeAllRanges","setBaseAndExtent","setGClass","replaceGClass","RegExp","toggleGClass","media","fclass","fclassRev","fclassCenter","console","log","hideSelect","pasteImg","blob","reader","FileReader","imgUrl","result","dataUrl","canvas","getContext","width","height","drawImage","toDataURL","scaleToFit","readAsDataURL","ish1","ish2","ish3","ish4","ish5","ish6","ctrlKey","keyCode","elm_node","ed_elm","txteditor","pv_elm","previousElementSibling","isContentEditable","focus","last_child","pos","adjustPosition","next_elm","nextElementSibling","elms","l_node_index","l_node_end","l_node","shiftKey","elm_html","next_html","elm_index","s_index","div_elm","parent","p_elm","altKey","clientX","selection_txt","arr_slice","b_class","arr_classes","w_class","extractClasses","extractLink","g_classes","is_img","Util","is_video","iframe_vid","embedElement","items","clipboardData","originalEvent","getAsFile","path","getData","rangeCount","deleteFromDocument","getRangeAt","insertNode","selected_color","selectColor","color","lNode","colors","show_colors","posKlass","getBoundingClientRect","bottom","innerHeight","evt","stop","show_link","setLink","hideLink","label","list","val","open","leading_class","text_class","v","inList","selected_val","selected_label","STYLE","PADDINGS","SIZES","left","center","right","e_classes","mp","title","pt","s","pr","pb","pl","bold","italic","underline","linethrough","padding","code","justify","selected_class","cexist","cgexist","cregexist","initEClasses","toggle","n_classes","toggleG","reg_padd","reg_mar","rect","posY","top","br","reverse","rel_rect","pos_top","mx","offsetWidth","innerWidth","fonts","included","ps","cancel","wmatch","match","hmatch","mwidth","mheight","selectedAlign","posClass","marginClass","addMedia","setMargin","getComputedStyle","getPropertyValue","toLowerCase","scrollY","firstParentRelative","cln","JSON","parse","stringify","prev","next","arr_html","uid","addNewElm","div_editors","j","historyChange","EditorHistory","disaptchChange","show_toolbar","mergePrev","mergeNext","show_media","img_props","updated","triggerUpdate","SIMPLE_ELMS","pasteTxt","chs","arr_h","child","h","pEditor","editor","getParentEditor","icon","help_html","fields","placeholder","validation","required","rows","store","clickOutside","handleClick","defaultPrevented","dispatchEvent","CustomEvent","show","itemsNode","addOption","rmOption","remove","querySelectorAll","errorMsg","previous","buttonBgColor","buttonTextColor","noPrevious","Radio","Select","Multichoice","Text","Textarea","Submit","Password","DateTime","Email","Number","Time","randomString","random","substring","menu","show_inputs","showDelete","showAdd","showMenu","inputsStore","removeInput","confirm","inputIndex","showDrag","showElement","cmpsRegistry","previousBtn","nextBtn","stepsList","numberOfSteps","step","theme","stepInd","inputs","elem","valid","stepMenu","stepper","withMessage","message","steps","__service","canSaveForm","formStore","oldEditable","arr_msg","form","initForm","formInputs","Fouita","Form","addStep","version","submit","error","textColor","bgColor","outlineColor","borderColor","getElementById","head","addFormStyle"],"mappings":"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"}